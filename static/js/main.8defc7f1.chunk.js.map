{"version":3,"sources":["components/AppliedRoute.js","containers/Home.js","components/LoaderButton.js","libs/hooksLib.js","Auth.js","components/notifications/Notification.js","api/ApiUtils.js","api/Api.js","containers/Login.js","components/dialogs/Dialog.js","components/ScoreTable.js","components/ExportCSV.js","context/reducers/InitialState.js","context/reducers/UserReducer.js","context/actions/ActionTypes.js","context/reducers/EventReducer.js","context/reducers/CompetitionReducer.js","context/reducers/ChurchReducer.js","context/reducers/JudgeReducer.js","context/reducers/ApiStatusReducer.js","context/Store.js","api/ChurchApi.js","context/actions/ChurchActions.js","api/CompetitionApi.js","context/actions/CompetitionActions.js","components/SelectCompetition.js","components/Spinner.js","containers/judges/Scoresheet.js","components/AddButton.js","api/EventApi.js","context/actions/EventActions.js","containers/events/Events.js","containers/events/EditEvent.js","containers/events/CreateEvent.js","components/SelectEvent.js","containers/competitions/Competitions.js","containers/competitions/EditCompetition.js","containers/competitions/CreateCompetition.js","containers/criterias/Criterias.js","containers/criterias/CreateCriteria.js","containers/criterias/EditCriteria.js","containers/churches/Churches.js","components/TextInput.js","containers/churches/ChurchForm.js","components/SelectCategory.js","containers/participants/Participants.js","components/Checkbox.js","containers/participants/ParticipantForm.js","api/JudgeApi.js","context/actions/JudgeActions.js","containers/judges/Judges.js","containers/judges/JudgeForm.js","containers/scoresheets/Scoresheets.js","containers/NotFound.js","withAuth.js","Routes.js","withAuthJudge.js","App.js","index.js"],"names":["AppliedRoute","C","component","appProps","rest","render","props","Home","className","LoaderButton","isLoading","disabled","Button","variant","icon","faSpinner","children","useFormFields","initialState","useState","fields","setValues","event","target","id","value","Auth","token","localStorage","setItem","getItem","clear","Container","styled","div","color","top","emitter","ee","notify","msg","isSuccess","emit","Notifications","onShow","timeOut","clearTimeout","setState","setTimeout","showNotification","state","on","this","faBell","faExclamationCircle","React","Component","handleResponse","response","a","status","Promise","resolve","text","error","Error","handleError","console","baseUrl","process","checkTokenApi","axios","get","method","then","catch","Login","setIsLoading","ipAddress","setIPAddress","currBrowser","setCurrBrowser","username","password","handleFieldChange","isUserAuthenticated","history","push","publicIp","require","detect","browser","name","v4","log","useEffect","onLoad","onSubmit","preventDefault","newInfo","jwt","post","timeout","authenticateApi","res","authenticateUser","data","getToken","decoded","decode","setDecodedUser","userHasAuthenticated","pathname","err","authenticateJudgeApi","authenticateJudge","getTokenJudge","setDecodedJudge","judgeHasAuthenticated","firstName","FormGroup","controlId","FormLabel","FormControl","autoFocus","type","onChange","block","length","showDialog","open","msgType","func","AlertDialog","callBackFunc","Dialog","onClose","handleClose","bind","aria-labelledby","aria-describedby","DialogTitle","faQuestionCircle","DialogContent","DialogContentText","DialogActions","onClick","faTimes","handleConfirm","faCheck","ScoresheetTbl","rows","cols","ScoresheetTable","map","row","index","key","title","criterias","pct","score","total","overall","overallTotal","tableHeader","col","Table","striped","bordered","hover","ExportCSV","csvData","fileName","sheetName","e","ws","XLSX","json_to_sheet","wb","book_new","book_append_sheet","excelBuffer","bookType","Blob","FileSaver","exportToCSV","faFileExcel","users","events","competitions","churches","judges","apiCallsInProgress","userReducer","action","newState","BEGIN_API_CALL","API_CALL_ERROR","eventReducer","_id","filter","competitionReducer","competition","compId","updated","criteria","critId","concat","churchReducer","church","churchID","participants","participant","participantID","judgeReducer","judge","actionTypeEndsInSuccess","substring","apiStatusReducer","types","store","createContext","Provider","loadChurchesAction","dispatch","addChurchAction","newComp","newEvent","deleteChurchAction","delete","deleteChurchApi","editChurchAction","updatedComp","updatedEvent","deleteParticipantAction","deleteParticipantApi","addParticipantAction","newParticipant","maxNoOfPerson","createParticipantApi","editParticipantAction","updatedParticipant","updateParticipantApi","loadCompetitionsAction","addCompetitionAction","newCompetition","deleteCompetitionAction","deleteCompetitionApi","editCompetitionAction","deleteCriteriaAction","compID","criteriaID","addCriteriaAction","newCriteria","createCriteriaApi","editCriteriaAction","updatedCriteria","updateCriteriaApi","SelectCompetition","selectedCompetition","onChangeSelectedCompetition","as","Spinner","Scoresheet","setSelectedCompetition","useContext","isApiInProgress","setIsApiInProgress","toast","message","sort","b","Tab","defaultActiveKey","Row","Col","md","span","order","Content","Nav","churchNumber","Item","Link","eventKey","acronym","tabHeading","AddButton","label","size","faPlus","loadEventsAction","deleteEventAction","deleteEventApi","addEventAction","createEventApi","editEventAction","updateEventApi","Event","category","location","to","faEdit","fixedWidth","href","deleteEvent","faTrash","Events","proceed","success","currEvent","EditEvent","setTitle","setCategory","setLocation","setParticipants","Date","dateOfEvent","setDateOfEvent","setStatus","accessCode","setAccessCode","getEventById","match","params","find","selected","newDate","minDate","showDisabledMonthNavigation","CreateEvent","placeholder","SelectEvent","selectedEvent","onChangeSelectedEvent","handleViewBtn","Competition","minNoOfPerson","faEye","deleteCompetition","Competitions","setCompetitions","setEvents","setSelectedEvent","display","toDisplay","defaultID","getCompetitionsById","event_id","displayAddButton","eventID","currCompetition","EditCompetition","setEventID","setName","setType","setCriterias","setMinNoOfPerson","setMaxNoOfPerson","comp","getCompetitionById","updatedCompetition","CreateCompetition","warn","Criteria","deleteCriteria","Criterias","setCompetition","cl","width","currCriteria","criteriaList","totals","parseFloat","computeTotal","CreateCriteria","EditCriteria","setValue","localCompetition","getCriteriaById","parseInt","Church","deleteChurch","Churches","setChurches","getChurchesById","currChurch","TextInput","ChurchForm","setAcronym","setChurchNumber","setEventId","isEdit","setIsEdit","updatedChurch","newChurch","SelectCategory","categories","selectedCategory","onChangeSelectedCategory","Participant","middleInitial","lastName","age","dateSaved","dateBaptized","deleteParticipant","Participants","setChurch","setSelectedCategory","filteredParticipants","competition_id","Pane","participantsList","Checkbox","checked","ParticipantForm","setFirstName","setMiddleInitial","setLastName","setAge","setDateSaved","setDateBaptized","setCompetitionID","enableDateSaved","setEnableDateSaved","enableDateBaptized","setEnableDateBaptized","getParticipantById","toString","toISOString","dateFormat","maxDate","loadJudgesAction","addJudgeAction","newJudge","deleteJudgeAction","deleteJudgeApi","editJudgeAction","updatedJudge","Judge","deleteJudge","Judges","setJudges","getJudgeById","currJudge","JudgeForm","scoresheets","setScoresheets","Scoresheets","setJudge","eventId","getOverall","entries","retVal","i","round","number","Math","tbl","scoresheet","s","church_id","musical","literary","c","entry","criteriaIndex","reduce","getScoresheet","NotFound","withAuth","ComponentToProtect","isMounted","loading","redirect","defaults","withCredentials","deauthenticateUser","Routes","path","exact","isJudgeAuthenticated","withRouter","isAuthenticated","setIsAuthenticating","decodedUser","decodedJudge","isAuthenticatedJudge","alert","handleLogout","Navbar","collapseOnSelect","expand","bg","Toggle","aria-controls","Collapse","ReactDOM","useCombinedReducers","useReducer","autoClose","hideProgressBar","document","getElementById"],"mappings":"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","file":"static/js/main.8defc7f1.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nexport default function AppliedRoute({ component: C, appProps, ...rest }) {\r\n    return (\r\n        <Route {...rest} render={props => <C {...props} {...appProps} />} />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport \"./Home.css\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div className=\"Home\">\r\n      <div className=\"lander jumbotron\">\r\n        <br />\r\n        <h1>ADJUDICATOR</h1>\r\n        <p>\r\n          A competition judging web app specifically made for IBMF\r\n          Talentfestival.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons'\r\nimport \"./LoaderButton.css\";\r\n\r\nexport default function LoaderButton({\r\n  isLoading,\r\n  className = \"\",\r\n  disabled = false,\r\n  ...props\r\n}) {\r\n  return (\r\n    <Button\r\n      className={`LoaderButton ${className}`}\r\n      variant=\"light\"\r\n      disabled={disabled || isLoading}\r\n      {...props}\r\n    >\r\n      {isLoading && <FontAwesomeIcon icon={faSpinner} className=\"fa-spinner\" />}\r\n      {props.children}\r\n    </Button>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport function useFormFields(initialState) {\r\n  const [fields, setValues] = useState(initialState);\r\n  \r\n  return [\r\n    fields,\r\n    function(event) {\r\n      \r\n      setValues({\r\n        ...fields,\r\n        [event.target.id]: event.target.value\r\n      });\r\n    }\r\n  ];\r\n}\r\n","class Auth {\r\n  static authenticateUser(token) {\r\n    localStorage.setItem(\"user\", token);\r\n  }\r\n\r\n  static isUserAuthenticated() {\r\n    return localStorage.getItem(\"user\") !== null;\r\n  }\r\n\r\n  static deauthenticateUser() {\r\n    localStorage.clear();\r\n  }\r\n\r\n  static getToken() {\r\n    return localStorage.getItem(\"user\");\r\n  }\r\n\r\n  //judge\r\n  static authenticateJudge(token) {\r\n    localStorage.setItem(\"judge\", token);\r\n  }\r\n\r\n  static isJudgeAuthenticated() {\r\n    return localStorage.getItem(\"judge\") !== null;\r\n  }\r\n\r\n  static getTokenJudge() {\r\n    return localStorage.getItem(\"judge\");\r\n  }\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ee from \"event-emitter\";\r\n// get our fontawesome imports\r\nimport { faBell, faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst Container = styled.div`\r\n  background-color: #${(props) => props.color};\r\n  border-radius: 20px;\r\n  color: white;\r\n  padding: 16px;\r\n  position: absolute;\r\n  top: ${(props) => props.top}px;\r\n  right: 16px;\r\n  z-index: 999;\r\n  transition: top 0.5s ease;\r\n`;\r\n\r\nconst emitter = new ee();\r\n\r\nexport const notify = (msg, isSuccess) => {\r\n  //can add another argument\r\n  emitter.emit(\"notification\", msg, isSuccess);\r\n};\r\n\r\nexport default class Notifications extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      top: -100,\r\n      msg: \"\",\r\n    };\r\n\r\n    this.timeOut = null;\r\n\r\n    emitter.on(\"notification\", (msg, isSuccess) => {\r\n      this.onShow(msg, isSuccess);\r\n    });\r\n  }\r\n\r\n  onShow = (msg, isSuccess) => {\r\n    if (this.timeOut) {\r\n      clearTimeout(this.timeOut);\r\n      this.setState({ top: -100 }, () => {\r\n        this.timeOut = setTimeout(() => {\r\n          this.showNotification(msg, isSuccess);\r\n        }, 500);\r\n      });\r\n    } else {\r\n      this.showNotification(msg, isSuccess);\r\n    }\r\n  };\r\n\r\n  showNotification = (msg, isSuccess) => {\r\n    this.setState(\r\n      {\r\n        top: 16,\r\n        msg: msg,\r\n        isSuccess: isSuccess,\r\n      },\r\n      () => {\r\n        this.timeOut = setTimeout(() => {\r\n          this.setState({\r\n            top: -100,\r\n          });\r\n        }, 3000);\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (this.state.isSuccess === \"success\") {\r\n      return (\r\n        <Container top={this.state.top} color=\"5bc0de\">\r\n          <FontAwesomeIcon icon={faBell}></FontAwesomeIcon>&nbsp;\r\n          {this.state.msg}\r\n        </Container>\r\n      );\r\n    } else {\r\n      return (\r\n        <Container top={this.state.top} color=\"cc0000\">\r\n          <FontAwesomeIcon icon={faExclamationCircle}></FontAwesomeIcon>&nbsp;\r\n          {this.state.msg}\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n","export async function handleResponse(response) {\r\n  if (response.status === 200) return Promise.resolve(response);\r\n  if (response.status === 400) {\r\n    // So, a server-side validation error occurred.\r\n    // Server side validation returns a string error message, so parse as text instead of json.\r\n    const error = await response.text();\r\n    throw new Error(error);\r\n  }\r\n  throw new Error(\"Network response was not ok.\");\r\n}\r\n\r\n// In a real app, would likely call an error logging service.\r\nexport function handleError(error) {\r\n  // eslint-disable-next-line no-console\r\n  console.error(\"API call failed. \" + error);\r\n  throw error;\r\n}\r\n","import axios from \"axios\";\r\nimport { handleResponse, handleError } from \"./ApiUtils\";\r\n\r\nconst baseUrl = process.env.REACT_APP_DEV_API_URL + \"/api/\";\r\n\r\nexport function authenticateApi(newInfo) {\r\n  return axios\r\n    .post(baseUrl + \"authenticate\", newInfo, {\r\n      timeout: 5000,\r\n    })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function checkTokenApi() {\r\n  return axios\r\n    .get(baseUrl + \"checkToken\", {\r\n      method: \"GET\",\r\n    })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function authenticateJudgeApi(newInfo) {\r\n  return axios\r\n    .post(baseUrl + \"authenticateJudge\", newInfo, {\r\n      timeout: 5000,\r\n    })\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../components/LoaderButton\";\r\nimport { useFormFields } from \"../libs/hooksLib\";\r\nimport Auth from \"../Auth\";\r\nimport { notify } from \"../components/notifications/Notification\";\r\nimport { authenticateApi, authenticateJudgeApi } from \"../api/Api\";\r\n\r\nexport default function Login(props) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [ipAddress, setIPAddress] = useState(\"\");\r\n  const [currBrowser, setCurrBrowser] = useState(\"\");\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, []);\r\n\r\n  async function onLoad() {\r\n    if (Auth.isUserAuthenticated()) {\r\n      props.history.push(\"/events\");\r\n    }\r\n\r\n    const publicIp = require(\"public-ip\");\r\n    const { detect } = require(\"detect-browser\");\r\n    const browser = detect();\r\n\r\n    // handle the case where we don't detect the browser\r\n    try {\r\n      if (browser) {\r\n        setCurrBrowser(browser.name);\r\n      }\r\n      setIPAddress(await publicIp.v4());\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    /*Being used for Testing*/\r\n    /*--START--\r\n    await dispatch({ type: \"SAMPLE_ACTION\", users });\r\n    --END--*/\r\n  }\r\n\r\n  function validateForm() {\r\n    return fields.username.length > 0 && fields.password.length > 0;\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    setIsLoading(true); //to tell users that the page is loading.\r\n\r\n    const newInfo = {\r\n      username: fields.username,\r\n      password: fields.password,\r\n      ipAddress: ipAddress,\r\n      browser: currBrowser,\r\n    };\r\n\r\n    //axios\r\n    //  .post(\"http://localhost:5000/api/authenticate\", newInfo, {\r\n    //    timeout: 5000,\r\n    //  })\r\n    const jwt = require(\"jsonwebtoken\");\r\n\r\n    authenticateApi(newInfo)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          Auth.authenticateUser(res.data);\r\n          const token = Auth.getToken();\r\n          //const jwt = require(\"jsonwebtoken\");\r\n          const decoded = jwt.decode(token);\r\n\r\n          //localStorage.setItem('cool-jwt', res.data);\r\n          props.setDecodedUser(decoded);\r\n          props.userHasAuthenticated(true);\r\n          notify(`Hi  ${decoded.username}!`, \"success\");\r\n          props.history.push({ pathname: \"/events\", state: decoded });\r\n        } else {\r\n          setIsLoading(false);\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        authenticateJudgeApi(newInfo)\r\n          .then((res) => {\r\n            if (res.status === 200) {\r\n              Auth.authenticateJudge(res.data);\r\n              const token = Auth.getTokenJudge();\r\n              const decoded = jwt.decode(token);\r\n              props.setDecodedJudge(decoded);\r\n              props.judgeHasAuthenticated(true);\r\n              props.history.push({ pathname: \"/scoresheet\", state: decoded });\r\n\r\n              notify(`Hi  ${decoded.firstName}!`, \"success\");\r\n            } else {\r\n              setIsLoading(false);\r\n              console.error(err);\r\n              notify(\"Incorrect username/password!\", \"error\");\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            setIsLoading(false);\r\n            console.error(err);\r\n            notify(\"Incorrect username/password!\", \"error\");\r\n          });\r\n        // setIsLoading(false);\r\n        // console.error(err);\r\n        // notify(\"Incorrect username/password!\", \"error\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"login container\">\r\n      <form onSubmit={handleSubmit}>\r\n        <FormGroup controlId=\"username\">\r\n          <FormLabel>Username</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"username\"\r\n            value={fields.username}\r\n            onChange={handleFieldChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"password\">\r\n          <FormLabel>Password</FormLabel>\r\n          <FormControl\r\n            type=\"password\"\r\n            value={fields.password}\r\n            onChange={handleFieldChange}\r\n          />\r\n        </FormGroup>\r\n        <LoaderButton\r\n          block\r\n          type=\"submit\"\r\n          isLoading={isLoading}\r\n          disabled={!validateForm()}\r\n        >\r\n          Login\r\n        </LoaderButton>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport {\r\n  faQuestionCircle,\r\n  faCheck,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport ee from \"event-emitter\";\r\nimport \"./Dialog.css\";\r\n\r\nconst emitter = new ee();\r\n\r\nexport const showDialog = (open, msgType, func) => {\r\n  //can add another argument\r\n  emitter.emit(\"dialog\", open, msgType, func);\r\n};\r\n\r\nexport default class AlertDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: false,\r\n      msg: \"\",\r\n      callBackFunc: {},\r\n    };\r\n\r\n    emitter.on(\"dialog\", (open, msgType, func) => {\r\n      this.onShow(open, msgType, func);\r\n    });\r\n  }\r\n\r\n  onShow = (open, msgType, func) => {\r\n    this.setState({ open: open, callBackFunc: func });\r\n    if (msgType === \"add\") {\r\n      this.setState({ msg: \"Do you really want to add this?\" });\r\n    } else if (msgType === \"update\") {\r\n      this.setState({ msg: \"Can you confirm your changes?\" });\r\n    } else {\r\n      this.setState({ msg: \"Are you sure you want to delete this?\" });\r\n    }\r\n  };\r\n\r\n  handleClose() {\r\n    this.setState({ open: false });\r\n  }\r\n\r\n  handleConfirm() {\r\n    this.setState({ open: false });\r\n    this.state.callBackFunc(Promise.resolve(true));\r\n    //this.state.callBackFunc(Promise.reject(false)); //for testing\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Dialog\r\n          open={this.state.open}\r\n          onClose={this.handleClose.bind(this)}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">\r\n            <FontAwesomeIcon icon={faQuestionCircle} />\r\n            &nbsp; Confirmation\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              {this.state.msg}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={this.handleClose.bind(this)}\r\n              variant=\"outlined\"\r\n              autoFocus\r\n            >\r\n              <FontAwesomeIcon icon={faTimes} />\r\n              &nbsp; Cancel\r\n            </Button>\r\n            <Button onClick={this.handleConfirm.bind(this)} variant=\"outlined\">\r\n              <FontAwesomeIcon icon={faCheck} />\r\n              &nbsp; Confirm\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport Table from 'react-bootstrap/Table';\r\n\r\nexport const ScoresheetTbl = ({rows, cols}) => {\r\n\r\n    const ScoresheetTable = rows.map((row, index) => {\r\n        \r\n        return (\r\n            <tr key = {index} className='even'>\r\n                <td>{row.type}</td>\r\n                <td>{row.title}</td>\r\n                <td>{row.criterias}</td>\r\n                <td>{row.pct}</td>\r\n                <td>{row.score}</td>\r\n                <td>{row.total}</td>\r\n                <td>{row.overall}</td>\r\n                <td>{row.overallTotal}</td>\r\n            </tr>\r\n        )\r\n    })\r\n    \r\n    const tableHeader = cols.map((col) => (\r\n        <thead className='bgvi'>\r\n            <tr>\r\n                <th>{col.type}</th>\r\n                <th>{col.title}</th>\r\n                <th>{col.criterias}</th>\r\n                <th>{col.pct}</th>\r\n                <th>{col.score}</th>\r\n                <th>{col.total}</th>\r\n                <th>{col.overall}</th>\r\n                <th>{col.overallTotal}</th>\r\n            </tr>\r\n        </thead>\r\n    ))\r\n    \r\n    return (\r\n        <Table striped bordered hover>\r\n            {tableHeader}\r\n            <tbody>\r\n                {ScoresheetTable}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}","import React from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport { faFileExcel } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nexport const ExportCSV = ({csvData, fileName, sheetName}) => {\r\n\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const exportToCSV = (csvData, fileName, sheetName) => {\r\n        // const ws = XLSX.utils.json_to_sheet(csvData);\r\n        // const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n        const ws = XLSX.utils.json_to_sheet(csvData);\r\n\t\tconst wb = XLSX.utils.book_new();\r\n\t\tXLSX.utils.book_append_sheet(wb, ws, sheetName);\r\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], {type: fileType});\r\n        FileSaver.saveAs(data, fileName + fileExtension);\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"dark\" onClick={(e) => exportToCSV(csvData, fileName, sheetName)}><FontAwesomeIcon icon={faFileExcel} />Export</Button>\r\n    )\r\n}","export default {\r\n  users: [],\r\n  events: [],\r\n  competitions: [],\r\n  criterias: [],\r\n  churches: [],\r\n  judges: [],\r\n  apiCallsInProgress: 0,\r\n};\r\n","import initialState from \"./InitialState\";\r\n\r\nexport default function userReducer(state = initialState.users, action) {\r\n  switch (action.type) {\r\n    case \"SAMPLE_ACTION\":\r\n      const newState = [...action.users, { username: \"Chelle\" }];\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","//Events\r\nexport const LOAD_EVENTS_SUCCESS = \"LOAD_EVENTS_SUCCESS\";\r\nexport const DELETE_EVENT_SUCCESS = \"DELETE_EVENT_SUCCESS\";\r\nexport const ADD_EVENT_SUCCESS = \"ADD_EVENT_SUCCESS\";\r\nexport const EDIT_EVENT_SUCCESS = \"EDIT_EVENT_SUCCESS\";\r\n\r\n//Competitions\r\nexport const LOAD_COMPETITIONS_SUCCESS = \"LOAD_COMPETITIONS_SUCCESS\";\r\nexport const DELETE_COMPETITION_SUCCESS = \"DELETE_COMPETITION_SUCCESS\";\r\nexport const ADD_COMPETITION_SUCCESS = \"ADD_COMPETITION_SUCCESS\";\r\nexport const EDIT_COMPETITION_SUCCESS = \"EDIT_COMPETITION_SUCCESS\";\r\n\r\n//Criterias\r\nexport const ADD_CRITERIA_SUCCESS = \"ADD_CRITERIA_SUCCESS\";\r\nexport const EDIT_CRITERIA_SUCCESS = \"EDIT_CRITERIA_SUCCESS\";\r\nexport const DELETE_CRITERIA_SUCCESS = \"DELETE_CRITERIA_SUCCESS\";\r\n\r\n//Churches\r\nexport const LOAD_CHURCHES_SUCCESS = \"LOAD_CHURCHES_SUCCESS\";\r\nexport const DELETE_CHURCH_SUCCESS = \"DELETE_CHURCH_SUCCESS\";\r\nexport const ADD_CHURCH_SUCCESS = \"ADD_CHURCH_SUCCESS\";\r\nexport const EDIT_CHURCH_SUCCESS = \"EDIT_CHURCH_SUCCESS\";\r\n\r\n//Participants\r\nexport const DELETE_PARTICIPANT_SUCCESS = \"DELETE_PARTICIPANT_SUCCESS\";\r\nexport const ADD_PARTICIPANT_SUCCESS = \"ADD_PARTICIPANT_SUCCESS\";\r\nexport const EDIT_PARTICIPANT_SUCCESS = \"EDIT_PARTICIPANT_SUCCESS\";\r\n\r\n//Judges\r\nexport const LOAD_JUDGES_SUCCESS = \"LOAD_JUDGES_SUCCESS\";\r\nexport const DELETE_JUDGE_SUCCESS = \"DELETE_JUDGE_SUCCESS\";\r\nexport const ADD_JUDGE_SUCCESS = \"ADD_JUDGE_SUCCESS\";\r\nexport const EDIT_JUDGE_SUCCESS = \"EDIT_JUDGE_SUCCESS\";\r\n\r\n//ApiStatus\r\nexport const BEGIN_API_CALL = \"BEGIN_API_CALL\";\r\nexport const API_CALL_ERROR = \"API_CALL_ERROR\";\r\n","import initialState from \"./InitialState\";\r\nimport * as types from \"../actions/ActionTypes\";\r\n\r\nexport default function eventReducer(state = initialState.events, action) {\r\n  switch (action.type) {\r\n    case types.ADD_EVENT_SUCCESS:\r\n      return [...state, { ...action.event }];\r\n    case types.LOAD_EVENTS_SUCCESS:\r\n      return action.events;\r\n    case types.EDIT_EVENT_SUCCESS:\r\n      return state.map((event) =>\r\n        event._id === action.event._id ? action.event : event\r\n      );\r\n    case types.DELETE_EVENT_SUCCESS:\r\n      return state.filter((event) => event._id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import initialState from \"./InitialState\";\r\nimport * as types from \"../actions/ActionTypes\";\r\n\r\nexport default function competitionReducer(\r\n  state = initialState.competitions,\r\n  action\r\n) {\r\n  switch (action.type) {\r\n    case types.ADD_COMPETITION_SUCCESS:\r\n      return [...state, { ...action.competition }];\r\n    case types.LOAD_COMPETITIONS_SUCCESS:\r\n      return action.competitions;\r\n    case types.EDIT_COMPETITION_SUCCESS:\r\n      return state.map((competition) =>\r\n        competition._id === action.competition._id\r\n          ? action.competition\r\n          : competition\r\n      );\r\n    case types.DELETE_COMPETITION_SUCCESS:\r\n      return state.filter((competition) => competition._id !== action.id);\r\n    case types.DELETE_CRITERIA_SUCCESS:\r\n      return state.map((competition) => {\r\n        if (competition._id === action.compId) {\r\n          let updated = { ...competition };\r\n          updated.criterias = updated.criterias.filter(\r\n            (criteria) => criteria._id !== action.critId\r\n          );\r\n          return updated;\r\n        } else {\r\n          return competition;\r\n        }\r\n      });\r\n    case types.EDIT_CRITERIA_SUCCESS:\r\n      return state.map((competition) => {\r\n        if (competition._id === action.compId) {\r\n          let updated = { ...competition };\r\n          updated.criterias = updated.criterias.map((criteria) =>\r\n            criteria._id === action.critId ? action.criteria : criteria\r\n          );\r\n          return updated;\r\n        } else {\r\n          return competition;\r\n        }\r\n      });\r\n    case types.ADD_CRITERIA_SUCCESS:\r\n      return state.map((competition) => {\r\n        if (competition._id === action.compId) {\r\n          let updated = { ...competition };\r\n          updated.criterias = updated.criterias.concat(action.criteria);\r\n          return updated;\r\n        } else {\r\n          return competition;\r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import initialState from \"./InitialState\";\r\nimport * as types from \"../actions/ActionTypes\";\r\n\r\nexport default function churchReducer(state = initialState.churches, action) {\r\n  switch (action.type) {\r\n    case types.ADD_CHURCH_SUCCESS:\r\n      return [...state, { ...action.church }];\r\n    case types.LOAD_CHURCHES_SUCCESS:\r\n      return action.churches;\r\n    case types.EDIT_CHURCH_SUCCESS:\r\n      return state.map((church) =>\r\n        church._id === action.church._id ? action.church : church\r\n      );\r\n    case types.DELETE_CHURCH_SUCCESS:\r\n      return state.filter((church) => church._id !== action.id);\r\n    case types.ADD_PARTICIPANT_SUCCESS:\r\n      return state.map((church) => {\r\n        if (church._id === action.churchID) {\r\n          let updated = { ...church };\r\n          updated.participants = updated.participants.concat(\r\n            action.participant\r\n          );\r\n          return updated;\r\n        } else {\r\n          return church;\r\n        }\r\n      });\r\n    case types.EDIT_PARTICIPANT_SUCCESS:\r\n      return state.map((church) => {\r\n        if (church._id === action.churchID) {\r\n          let updated = { ...church };\r\n          updated.participants = updated.participants.map((participant) =>\r\n            participant._id === action.participantID\r\n              ? action.participant\r\n              : participant\r\n          );\r\n          return updated;\r\n        } else {\r\n          return church;\r\n        }\r\n      });\r\n    case types.DELETE_PARTICIPANT_SUCCESS:\r\n      return state.map((church) => {\r\n        if (church._id === action.churchID) {\r\n          let updated = { ...church };\r\n          updated.participants = updated.participants.filter(\r\n            (participant) => participant._id !== action.participantID\r\n          );\r\n          return updated;\r\n        } else {\r\n          return church;\r\n        }\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import initialState from \"./InitialState\";\r\nimport * as types from \"../actions/ActionTypes\";\r\n\r\nexport default function judgeReducer(state = initialState.judges, action) {\r\n  switch (action.type) {\r\n    case types.ADD_JUDGE_SUCCESS:\r\n      return [...state, { ...action.judge }];\r\n    case types.LOAD_JUDGES_SUCCESS:\r\n      return action.judges;\r\n    case types.EDIT_JUDGE_SUCCESS:\r\n      return state.map((judge) =>\r\n        judge._id === action.judge._id ? action.judge : judge\r\n      );\r\n    case types.DELETE_JUDGE_SUCCESS:\r\n      return state.filter((judge) => judge._id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import initialState from \"./InitialState\";\r\nimport * as types from \"../actions/ActionTypes\";\r\n\r\nfunction actionTypeEndsInSuccess(type) {\r\n  return type.substring(type.length - 8) === \"_SUCCESS\";\r\n}\r\n\r\nexport default function apiStatusReducer(\r\n  state = initialState.apiCallsInProgress,\r\n  action\r\n) {\r\n  if (action.type === types.BEGIN_API_CALL) {\r\n    return state + 1;\r\n  } else if (\r\n    action.type == types.API_CALL_ERROR ||\r\n    actionTypeEndsInSuccess(action.type)\r\n  ) {\r\n    return state - 1;\r\n  }\r\n\r\n  return state;\r\n}\r\n","import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport useCombinedReducers from \"use-combined-reducers\";\r\nimport userReducer from \"./reducers/UserReducer\";\r\nimport eventReducer from \"./reducers/EventReducer\";\r\nimport competitionReducer from \"./reducers/CompetitionReducer\";\r\nimport churchReducer from \"./reducers/ChurchReducer\";\r\nimport judgeReducer from \"./reducers/JudgeReducer\";\r\nimport apiStatusReducer from \"./reducers/ApiStatusReducer\";\r\nimport initialState from \"./reducers/InitialState\";\r\n\r\nconst store = createContext({});\r\nconst { Provider } = store;\r\n\r\n// const contextToLocalStorage = (action, value = \"\") => {\r\n//   switch (action) {\r\n//     case \"get\":\r\n//       return localStorage.getItem(\"context\");\r\n//     case \"set\":\r\n//       return localStorage.setItem(\"context\", JSON.stringify(value));\r\n//     case \"del\":\r\n//       return localStorage.removeItem(\"context\");\r\n//     default:\r\n//       return;\r\n//   }\r\n// };\r\n\r\n// const localState = contextToLocalStorage(\"get\")\r\n//   ? JSON.parse(contextToLocalStorage(\"get\"))\r\n//   : initialState;\r\n\r\n//reload other tabs when something changes\r\n//on the local storage\r\n// window.addEventListener(\r\n//   \"storage\",\r\n//   function () {\r\n//     window.location.reload();\r\n//   },\r\n//   false\r\n// );\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useCombinedReducers({\r\n    apiCallsInProgress: useReducer(\r\n      apiStatusReducer,\r\n      initialState.apiCallsInProgress\r\n    ),\r\n    users: useReducer(userReducer, initialState.users),\r\n    events: useReducer(eventReducer, initialState.events),\r\n    competitions: useReducer(competitionReducer, initialState.competitions),\r\n    churches: useReducer(churchReducer, initialState.churches),\r\n    judges: useReducer(judgeReducer, initialState.judges),\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   contextToLocalStorage(\"set\", { ...localState, ...state });\r\n  // }, [state]);\r\n\r\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\r\n};\r\n\r\nexport { store, StateProvider };\r\n","import axios from \"axios\";\r\nimport { handleResponse, handleError } from \"./ApiUtils\";\r\n\r\nconst baseUrl = process.env.REACT_APP_DEV_API_URL + \"/churches/\";\r\n\r\nexport function getChurchesApi() {\r\n  return axios.get(baseUrl).then(handleResponse).catch(handleError);\r\n}\r\n\r\nexport function getChurchApi(id) {\r\n  return axios\r\n    .get(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function getChurchIDNumberNameApi() {\r\n  return axios\r\n    .get(`${baseUrl}getIDNumberName`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteChurchApi(id) {\r\n  return axios\r\n    .delete(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createChurchApi(newEvent) {\r\n  return axios\r\n    .post(baseUrl + \"add\", newEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateChurchApi(id, updatedEvent) {\r\n  return axios\r\n    .post(baseUrl + `update/${id}`, updatedEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createParticipantApi(id, newParticipant) {\r\n  return axios\r\n    .post(baseUrl + `${id}/add`, newParticipant)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteParticipantApi(churchID, participantID) {\r\n  return axios\r\n    .delete(baseUrl + `${churchID}/delete/${participantID}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateParticipantApi(\r\n  churchID,\r\n  participantID,\r\n  updatedParticipant\r\n) {\r\n  return axios\r\n    .post(`${baseUrl}${churchID}/update/${participantID}`, updatedParticipant)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","import * as types from \"./ActionTypes\";\r\nimport {\r\n  createChurchApi,\r\n  getChurchesApi,\r\n  deleteChurchApi,\r\n  updateChurchApi,\r\n  createParticipantApi,\r\n  deleteParticipantApi,\r\n  updateParticipantApi,\r\n} from \"../../api/ChurchApi\";\r\n\r\nexport function loadChurchesAction(dispatch) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return getChurchesApi()\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.LOAD_CHURCHES_SUCCESS,\r\n        churches: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addChurchAction(dispatch, newComp) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createChurchApi(newComp)\r\n    .then((res) => {\r\n      dispatch({ type: types.ADD_CHURCH_SUCCESS, church: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteChurchAction(dispatch, id) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteChurchApi(id)\r\n    .then(() => dispatch({ type: types.DELETE_CHURCH_SUCCESS, id }))\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editChurchAction(dispatch, _id, updatedComp) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateChurchApi(_id, updatedComp)\r\n    .then(() => {\r\n      dispatch({\r\n        type: types.EDIT_CHURCH_SUCCESS,\r\n        church: { _id, ...updatedComp },\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteParticipantAction(dispatch, churchID, participantID) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteParticipantApi(churchID, participantID)\r\n    .then(() =>\r\n      dispatch({\r\n        type: types.DELETE_PARTICIPANT_SUCCESS,\r\n        churchID,\r\n        participantID,\r\n      })\r\n    )\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addParticipantAction(\r\n  dispatch,\r\n  churchID,\r\n  newParticipant,\r\n  maxNoOfPerson\r\n) {\r\n  console.log(\"Participant Action:\", newParticipant, maxNoOfPerson);\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createParticipantApi(churchID, newParticipant, maxNoOfPerson)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.ADD_PARTICIPANT_SUCCESS,\r\n        churchID,\r\n        participant: res.data.participants[res.data.participants.length - 1],\r\n      });\r\n\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editParticipantAction(\r\n  dispatch,\r\n  churchID,\r\n  participantID,\r\n  updatedParticipant\r\n) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateParticipantApi(churchID, participantID, updatedParticipant)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.EDIT_PARTICIPANT_SUCCESS,\r\n        churchID,\r\n        participantID,\r\n        participant: { _id: participantID, ...updatedParticipant },\r\n      });\r\n\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n","import axios from \"axios\";\r\nimport { handleResponse, handleError } from \"./ApiUtils\";\r\n\r\nconst baseUrl = process.env.REACT_APP_DEV_API_URL + \"/competitions/\";\r\n\r\nexport function getCompetitionsApi() {\r\n  return axios.get(baseUrl).then(handleResponse).catch(handleError);\r\n}\r\n\r\nexport function getCompetitionApi(id) {\r\n  return axios\r\n    .get(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function getCompetitionsEventApi(eventID) {\r\n  return axios\r\n    .get(`${baseUrl}event_id/${eventID}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteCompetitionApi(id) {\r\n  return axios\r\n    .delete(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createCompetitionApi(newCompetition) {\r\n  return axios\r\n    .post(baseUrl + \"add\", newCompetition)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateCompetitionApi(id, updatedEvent) {\r\n  return axios\r\n    .post(baseUrl + `update/${id}`, updatedEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function getCriteriaApi(compID, criteriaID) {\r\n  return axios\r\n    .get(`${baseUrl}${compID}/criteria_id/${criteriaID}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createCriteriaApi(id, newCriteria) {\r\n  return axios\r\n    .post(baseUrl + `${id}/add`, newCriteria)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteCriteriaApi(compID, criteriaID) {\r\n  return axios\r\n    .delete(baseUrl + `${compID}/delete/${criteriaID}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateCriteriaApi(compID, criteriaID, updatedCriteria) {\r\n  return axios\r\n    .post(`${baseUrl}${compID}/update/${criteriaID}`, updatedCriteria)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function getScoresheetsApi(eventID) {\r\n  return axios\r\n    .get(`${baseUrl}/scoresheet/${eventID}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","import * as types from \"./ActionTypes\";\r\nimport {\r\n  createCompetitionApi,\r\n  getCompetitionsApi,\r\n  deleteCompetitionApi,\r\n  updateCompetitionApi,\r\n  deleteCriteriaApi,\r\n  createCriteriaApi,\r\n  updateCriteriaApi,\r\n} from \"../../api/CompetitionApi\";\r\n\r\nexport function loadCompetitionsAction(dispatch) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return getCompetitionsApi()\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.LOAD_COMPETITIONS_SUCCESS,\r\n        competitions: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addCompetitionAction(dispatch, newComp) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createCompetitionApi(newComp)\r\n    .then((res) => {\r\n      dispatch({ type: types.ADD_COMPETITION_SUCCESS, competition: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteCompetitionAction(dispatch, id) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteCompetitionApi(id)\r\n    .then(() => dispatch({ type: types.DELETE_COMPETITION_SUCCESS, id }))\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editCompetitionAction(dispatch, _id, updatedComp) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateCompetitionApi(_id, updatedComp)\r\n    .then(() => {\r\n      dispatch({\r\n        type: types.EDIT_COMPETITION_SUCCESS,\r\n        competition: { _id, ...updatedComp },\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteCriteriaAction(dispatch, compId, critId) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteCriteriaApi(compId, critId)\r\n    .then(() =>\r\n      dispatch({ type: types.DELETE_CRITERIA_SUCCESS, compId, critId })\r\n    )\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addCriteriaAction(dispatch, compId, newCriteria) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createCriteriaApi(compId, newCriteria)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.ADD_CRITERIA_SUCCESS,\r\n        compId,\r\n        criteria: res.data.criterias[res.data.criterias.length - 1],\r\n      });\r\n\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editCriteriaAction(dispatch, compId, critId, updatedCriteria) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateCriteriaApi(compId, critId, updatedCriteria)\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.EDIT_CRITERIA_SUCCESS,\r\n        compId,\r\n        critId,\r\n        criteria: { _id: critId, ...updatedCriteria },\r\n      });\r\n\r\n      return Promise.resolve(res);\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport { FormGroup, FormControl } from \"react-bootstrap\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const SelectCompetition = ({\r\n  competitions,\r\n  selectedCompetition,\r\n  onChangeSelectedCompetition,\r\n}) => {\r\n  return (\r\n    <FormGroup>\r\n      <br />\r\n      <h5>Choose Competition</h5>\r\n      <FormControl\r\n        autoFocus\r\n        as=\"select\"\r\n        value={selectedCompetition}\r\n        onChange={onChangeSelectedCompetition}\r\n      >\r\n        {competitions.map(function (competition) {\r\n          return (\r\n            <option key={competition.key} value={competition.key}>\r\n              {competition.value}\r\n            </option>\r\n          );\r\n        })}\r\n      </FormControl>\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nSelectCompetition.propTypes = {\r\n  competitions: PropTypes.array.isRequired,\r\n  selectedCompetition: PropTypes.string.isRequired,\r\n  onChangeSelectedCompetition: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SelectCompetition;\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return <div className=\"loader\">Loading...</div>;\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Tab, Nav, Row, Col } from \"react-bootstrap\";\r\nimport AlertDialog from \"../../components/dialogs/Dialog\";\r\nimport { ScoresheetTbl } from \"../../components/ScoreTable\";\r\nimport { ExportCSV } from \"../../components/ExportCSV\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { loadChurchesAction } from \"../../context/actions/ChurchActions\";\r\nimport { loadCompetitionsAction } from \"../../context/actions/CompetitionActions\";\r\nimport SelectCompetition from \"../../components/SelectCompetition\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function Scoresheet(props) {\r\n  const [selectedCompetition, setSelectedCompetition] = useState(\"\");\r\n  const { state, dispatch } = useContext(store);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions]);\r\n\r\n  async function onLoad() {\r\n    try {\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n      if (state.churches.length === 0) {\r\n        await loadChurchesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n\r\n    // if (state.competitions.length > 0) {\r\n    //   //   setSelectedCompetition(state.competitions[0]._id);\r\n    //   setCompetitions(state.competitions);\r\n    // }\r\n  }\r\n\r\n  function onChangeSelectedCompetition(e) {\r\n    setSelectedCompetition(e.target.value);\r\n  }\r\n\r\n  function tabHeading() {\r\n    if (state.churches.length > 0) {\r\n      return state.churches\r\n        .sort((a, b) =>\r\n          a.churchNumber > b.churchNumber\r\n            ? 1\r\n            : b.churchNumber > a.churchNumber\r\n            ? -1\r\n            : 0\r\n        )\r\n        .map((church) => (\r\n          <Nav.Item key={church.churchNumber}>\r\n            <Nav.Link className=\"tab-nav-link\" eventKey={church.churchNumber}>\r\n              {church.churchNumber + \".) \" + church.acronym}\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        ));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"scoresheet container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <div className=\"lander\">\r\n          <SelectCompetition\r\n            competitions={state.competitions\r\n              .sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0))\r\n              .map((competition) => ({\r\n                key: competition._id,\r\n                value: competition.name,\r\n              }))}\r\n            selectedCompetition={selectedCompetition}\r\n            onChangeSelectedCompetition={onChangeSelectedCompetition}\r\n          />\r\n          <Tab.Container\r\n            id=\"left-tabs\"\r\n            defaultActiveKey=\"1\"\r\n            className=\"tab-container\"\r\n          >\r\n            <Row>\r\n              <Col md={{ span: 10, order: 2 }}>\r\n                <Tab.Content></Tab.Content>\r\n              </Col>\r\n              <Col md={{ span: 2, order: 1 }}>\r\n                <Nav variant=\"pills\" className=\"flex-column\">\r\n                  {tabHeading()}\r\n                </Nav>\r\n                <br />\r\n              </Col>\r\n            </Row>\r\n          </Tab.Container>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nconst AddButton = ({ pathname, state, label, history }) => (\r\n  <div>\r\n    <Button\r\n      variant=\"light\"\r\n      size=\"lg\"\r\n      onClick={() =>\r\n        history.push({\r\n          pathname,\r\n          state,\r\n        })\r\n      }\r\n    >\r\n      <FontAwesomeIcon icon={faPlus} /> {label}\r\n    </Button>\r\n  </div>\r\n);\r\n\r\nAddButton.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  pathname: PropTypes.string.isRequired,\r\n  state: PropTypes.object,\r\n  history: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default AddButton;\r\n","import axios from \"axios\";\r\nimport { handleResponse, handleError } from \"./ApiUtils\";\r\n\r\nconst baseUrl = process.env.REACT_APP_DEV_API_URL + \"/events/\";\r\n\r\nexport function getEventsApi() {\r\n  return axios.get(baseUrl).then(handleResponse).catch(handleError);\r\n}\r\n\r\nexport function getEventApi(id) {\r\n  return axios\r\n    .get(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteEventApi(id) {\r\n  return axios\r\n    .delete(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createEventApi(newEvent) {\r\n  return axios\r\n    .post(baseUrl + \"add\", newEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateEventApi(id, updatedEvent) {\r\n  return axios\r\n    .post(baseUrl + `update/${id}`, updatedEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","import * as types from \"./ActionTypes\";\r\nimport {\r\n  createEventApi,\r\n  getEventsApi,\r\n  deleteEventApi,\r\n  updateEventApi,\r\n} from \"../../api/EventApi\";\r\n\r\nexport function loadEventsAction(dispatch) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return getEventsApi()\r\n    .then((res) => {\r\n      dispatch({ type: types.LOAD_EVENTS_SUCCESS, events: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteEventAction(dispatch, id) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteEventApi(id)\r\n    .then(() => dispatch({ type: types.DELETE_EVENT_SUCCESS, id }))\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addEventAction(dispatch, newEvent) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createEventApi(newEvent)\r\n    .then((res) => {\r\n      dispatch({ type: types.ADD_EVENT_SUCCESS, event: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editEventAction(dispatch, _id, updatedEvent) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateEventApi(_id, updatedEvent)\r\n    .then(() => {\r\n      dispatch({\r\n        type: types.EDIT_EVENT_SUCCESS,\r\n        event: { _id, ...updatedEvent },\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faTrash, faEdit, faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { store } from \"../../context/Store\";\r\nimport {\r\n  loadEventsAction,\r\n  deleteEventAction,\r\n} from \"../../context/actions/EventActions\";\r\nimport { toast } from \"react-toastify\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nconst Event = (props) => (\r\n  <tr>\r\n    <td>{props.event.title}</td>\r\n    <td>{props.event.category}</td>\r\n    <td>{props.event.location}</td>\r\n    <td>{props.event.status}</td>\r\n    <td>\r\n      <Link to={\"/events/\" + props.event._id}>\r\n        <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n      </Link>\r\n      &nbsp; |\r\n      <Button\r\n        variant=\"link\"\r\n        href=\"#\"\r\n        onClick={() => {\r\n          props.deleteEvent(props.event._id);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n      </Button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function Events(props) {\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n  //const [events, setEvents] = useState(globalState.state.events);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.events]);\r\n\r\n  async function onLoad() {\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading events failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function eventList() {\r\n    if (state.events.length > 0) {\r\n      return state.events.map((currEvent) => {\r\n        return (\r\n          <Event\r\n            event={currEvent}\r\n            deleteEvent={deleteEvent}\r\n            key={currEvent._id}\r\n          />\r\n        );\r\n      });\r\n    } else return;\r\n  }\r\n\r\n  function deleteEvent(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Event was deleted successfully!\");\r\n            //axios\r\n            //  .delete(\"http://localhost:5000/events/\" + id)\r\n            //deleteEventApi(id).then((res) => console.log(res.data));\r\n            deleteEventAction(dispatch, id).catch((err) => {\r\n              console.error(err);\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n\r\n            //setEvents(events.filter((el) => el._id !== id));\r\n            //notify(\"Event was deleted successfully!\", \"success\");\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err.message);\r\n          toast.error(\"Error Deleting this data!\");\r\n          //notify(\"Error Deleting this data!\", \"error\");\r\n        });\r\n    });\r\n    //removes the deleted exercise from the state events' array\r\n    //_id came from mongodb's object name\r\n    //setEvents({\r\n    //  events: events.filter(el => el._id !== id)\r\n    //})\r\n  }\r\n\r\n  return (\r\n    <div className=\"events container\">\r\n      <AlertDialog />\r\n      {!isApiInProgress ? (\r\n        <>\r\n          <div className=\"lander\">\r\n            <br />\r\n\r\n            <h5>List of Event(s)</h5>\r\n            <table className=\"table\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th>Title</th>\r\n                  <th>Category</th>\r\n                  <th>Location</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{eventList()}</tbody>\r\n            </table>\r\n          </div>\r\n          <AddButton\r\n            label={\"Event\"}\r\n            pathname={\"/events/add\"}\r\n            history={props.history}\r\n          />\r\n        </>\r\n      ) : (\r\n        <Spinner />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport {\r\n  loadEventsAction,\r\n  editEventAction,\r\n} from \"../../context/actions/EventActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function EditEvent(props) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [participants, setParticipants] = useState(\"\");\r\n  const [dateOfEvent, setDateOfEvent] = useState(new Date());\r\n  const [status, setStatus] = useState(\"\");\r\n  const [accessCode, setAccessCode] = useState(\"\");\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.events]);\r\n\r\n  async function onLoad() {\r\n    // axios\r\n    //   .get(\"http://localhost:5000/events/\" + props.match.params.id)\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading events failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    if (state.events.length > 0) {\r\n      const event = getEventById(props.match.params.id);\r\n      setTitle(event.title);\r\n      setCategory(event.category);\r\n      setDateOfEvent(new Date(event.dateOfEvent));\r\n      setLocation(event.location);\r\n      setParticipants(event.participants);\r\n      setStatus(event.status);\r\n      setAccessCode(event.accessCode);\r\n    }\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getEventById(id) {\r\n    return state.events.find((event) => event._id === props.match.params.id);\r\n  }\r\n\r\n  function validateForm() {\r\n    return (\r\n      title.length > 0 &&\r\n      category.length > 0 &&\r\n      location.length > 0 &&\r\n      participants.length > 0\r\n    );\r\n  }\r\n\r\n  function onChangeTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function onChangeCategory(e) {\r\n    setCategory(e.target.value);\r\n  }\r\n\r\n  function onChangeLocation(e) {\r\n    setLocation(e.target.value);\r\n  }\r\n\r\n  function onChangeParticipants(e) {\r\n    setParticipants(e.target.value);\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/events\");\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    showDialog(true, \"update\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const updatedEvent = {\r\n              title,\r\n              category,\r\n              dateOfEvent,\r\n              location,\r\n              participants,\r\n              status,\r\n              accessCode,\r\n            };\r\n\r\n            // axios\r\n            //   .post(\r\n            //     \"http://localhost:5000/events/update/\" + props.match.params.id,\r\n            //     updatedEvent\r\n            //   )\r\n            //updateEventApi(props.match.params.id, updatedEvent)\r\n            editEventAction(dispatch, props.match.params.id, updatedEvent)\r\n              .then(() => {\r\n                toast.success(`Event was updated successfully!`);\r\n                props.history.push(\"/events\");\r\n                //window.location.reload();\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error updating this event. \" + err.message);\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Unexpected error! \" + err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-event container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <br />\r\n          <h5>Edit Event</h5>\r\n          <form onSubmit={handleSubmit}>\r\n            <FormGroup controlId=\"title\">\r\n              <FormLabel>Title</FormLabel>\r\n              <FormControl\r\n                autoFocus\r\n                type=\"text\"\r\n                value={title}\r\n                onChange={onChangeTitle}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"category\">\r\n              <FormLabel>Category</FormLabel>\r\n              <FormControl\r\n                as=\"select\"\r\n                value={category}\r\n                onChange={onChangeCategory}\r\n              >\r\n                <option value=\"regional\">Regional</option>\r\n                <option value=\"national\">National</option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"dateOfEvent\">\r\n              <FormLabel>Date of Event</FormLabel>\r\n              <br />\r\n              <DatePicker\r\n                selected={dateOfEvent}\r\n                onChange={(newDate) => setDateOfEvent(newDate)}\r\n                minDate={new Date()}\r\n                showDisabledMonthNavigation\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"location\">\r\n              <FormLabel>Location</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                value={location}\r\n                onChange={onChangeLocation}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"participants\">\r\n              <FormLabel>Participants</FormLabel>\r\n              <FormControl\r\n                as=\"select\"\r\n                value={participants}\r\n                onChange={onChangeParticipants}\r\n              >\r\n                <option value=\"youth\">Youth</option>\r\n                <option value=\"adult\">Adult</option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"loaderBtn\">\r\n              <LoaderButton\r\n                block\r\n                type=\"submit\"\r\n                isLoading={isLoading}\r\n                disabled={!validateForm()}\r\n              >\r\n                Update\r\n              </LoaderButton>\r\n            </FormGroup>\r\n          </form>\r\n          <LoaderButton block onClick={handleCancel}>\r\n            Cancel\r\n          </LoaderButton>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport {\r\n  loadEventsAction,\r\n  addEventAction,\r\n} from \"../../context/actions/EventActions\";\r\nimport { store } from \"../../context/Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function CreateEvent(props) {\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    title: \"\",\r\n    category: \"\",\r\n    location: \"\",\r\n    participants: \"\",\r\n  });\r\n\r\n  const [dateOfEvent, setDateOfEvent] = useState(new Date());\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.events]);\r\n\r\n  async function onLoad() {\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading events failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function validateForm() {\r\n    return (\r\n      fields.title.length > 0 &&\r\n      fields.category !== \"\" &&\r\n      fields.participants !== \"\" &&\r\n      fields.location.length > 0\r\n    );\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/events\");\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    showDialog(true, \"add\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const newEvent = {\r\n              title: fields.title,\r\n              category: fields.category,\r\n              dateOfEvent,\r\n              location: fields.location,\r\n              participants: fields.participants,\r\n              status: \"inpr\",\r\n            };\r\n            //axios\r\n            //  .post(\"http://localhost:5000/events/add\", newEvent)\r\n            //createEventApi(newEvent)\r\n            addEventAction(dispatch, newEvent)\r\n              .then(() => {\r\n                toast.success(\"New event was added successfully!\");\r\n                //notify(`New event was added successfully!`, \"success\");\r\n                //console.log(res);\r\n                props.history.push(\"/events\");\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                //console.error(err);\r\n                toast.error(\"Error adding this event. \" + err.message);\r\n                //notify(\"Error adding this event.\", \"error\");\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Unexpected error! \" + err.message);\r\n          //notify(\"Unexpected error!\", \"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-event container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <br />\r\n          <h5>Create Event</h5>\r\n          <form onSubmit={handleSubmit}>\r\n            <FormGroup controlId=\"title\">\r\n              <FormLabel>Title</FormLabel>\r\n              <FormControl\r\n                autoFocus\r\n                type=\"text\"\r\n                placeholder=\"Enter Title\"\r\n                value={fields.title}\r\n                onChange={handleFieldChange}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"category\">\r\n              <FormLabel>Category</FormLabel>\r\n              <FormControl\r\n                as=\"select\"\r\n                placeholder=\"Category\"\r\n                value={fields.category}\r\n                onChange={handleFieldChange}\r\n              >\r\n                <option value=\"\">Select Category</option>\r\n                <option value=\"regional\">Regional</option>\r\n                <option value=\"national\">National</option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"dateOfEvent\">\r\n              <FormLabel>Date of Event</FormLabel>\r\n              <br />\r\n              <DatePicker\r\n                selected={dateOfEvent}\r\n                onChange={(newDate) => setDateOfEvent(newDate)}\r\n                minDate={new Date()}\r\n                showDisabledMonthNavigation\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"location\">\r\n              <FormLabel>Location</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Enter Location\"\r\n                value={fields.location}\r\n                onChange={handleFieldChange}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"participants\">\r\n              <FormLabel>Participants</FormLabel>\r\n              <FormControl\r\n                as=\"select\"\r\n                placeholder=\"Participants\"\r\n                value={fields.participants}\r\n                onChange={handleFieldChange}\r\n              >\r\n                <option value=\"\">Select Participants</option>\r\n                <option value=\"youth\">Youth</option>\r\n                <option value=\"adult\">Adult</option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"submit\">\r\n              <LoaderButton\r\n                block\r\n                type=\"submit\"\r\n                isLoading={isLoading}\r\n                disabled={!validateForm()}\r\n              >\r\n                Create\r\n              </LoaderButton>\r\n            </FormGroup>\r\n          </form>\r\n          <LoaderButton block onClick={handleCancel}>\r\n            Cancel\r\n          </LoaderButton>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { FormGroup, FormControl } from \"react-bootstrap\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const SelectEvent = ({\r\n  events,\r\n  selectedEvent,\r\n  onChangeSelectedEvent,\r\n  handleViewBtn,\r\n}) => {\r\n  return (\r\n    <FormGroup>\r\n      <br />\r\n      <h5>Choose Event</h5>\r\n      <FormControl\r\n        autoFocus\r\n        as=\"select\"\r\n        value={selectedEvent}\r\n        onChange={onChangeSelectedEvent}\r\n      >\r\n        {events.map(function (event) {\r\n          return (\r\n            <option key={event._id} value={event._id}>\r\n              {event.title}\r\n            </option>\r\n          );\r\n        })}\r\n      </FormControl>\r\n      <br />\r\n      <button className=\"btn btn-dark\" onClick={handleViewBtn}>\r\n        View\r\n      </button>\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nSelectEvent.propTypes = {\r\n  events: PropTypes.array.isRequired,\r\n  selectedEvent: PropTypes.string.isRequired,\r\n  onChangeSelectedEvent: PropTypes.func.isRequired,\r\n  handleViewBtn: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SelectEvent;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./Competitions.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faTrash, faEdit, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport SelectEvent from \"../../components/SelectEvent\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { loadEventsAction } from \"../../context/actions/EventActions\";\r\nimport {\r\n  loadCompetitionsAction,\r\n  deleteCompetitionAction,\r\n} from \"../../context/actions/CompetitionActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nconst Competition = (props) => (\r\n  <tr>\r\n    <td>{props.competition.name}</td>\r\n    <td>{props.competition.type}</td>\r\n    <td>{props.competition.minNoOfPerson}</td>\r\n    <td>{props.competition.maxNoOfPerson}</td>\r\n    <td>\r\n      <Link\r\n        to={{\r\n          pathname: \"/criterias\",\r\n          state: { competition: props.competition },\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faEye} fixedWidth />\r\n        &nbsp;Criterias\r\n      </Link>\r\n      &nbsp; | &nbsp;\r\n      <Link to={\"/competitions/\" + props.competition._id}>\r\n        <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n      </Link>\r\n      &nbsp; |\r\n      <Button\r\n        variant=\"link\"\r\n        onClick={() => {\r\n          props.deleteCompetition(props.competition._id);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n      </Button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function Competitions(props) {\r\n  const [competitions, setCompetitions] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\r\n  const [display, toDisplay] = useState(false);\r\n  const { state, dispatch } = useContext(store);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions, state.events]);\r\n\r\n  async function onLoad() {\r\n    let defaultID = \"\";\r\n\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    if (state.events.length > 0) {\r\n      setEvents(\r\n        state.events.sort((a, b) =>\r\n          a.title > b.title ? -1 : b.title > a.title ? 1 : 0\r\n        )\r\n      );\r\n\r\n      setSelectedEvent(state.events[0]._id);\r\n      defaultID = state.events[0]._id;\r\n\r\n      if (\r\n        state.competitions.length > 0 &&\r\n        getCompetitionsById(defaultID).length > 0\r\n      ) {\r\n        setCompetitions(\r\n          getCompetitionsById(defaultID).sort((a, b) =>\r\n            a.name > b.name ? 1 : b.name > a.name ? -1 : 0\r\n          )\r\n        );\r\n\r\n        toDisplay(true);\r\n      }\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getCompetitionsById(id) {\r\n    return state.competitions.filter(\r\n      (competition) => competition.event_id == id\r\n    );\r\n  }\r\n\r\n  function onChangeSelectedEvent(e) {\r\n    setSelectedEvent(e.target.value);\r\n  }\r\n\r\n  function handleViewBtn() {\r\n    setCompetitions([]);\r\n\r\n    if (\r\n      state.competitions.length > 0 &&\r\n      getCompetitionsById(selectedEvent).length > 0\r\n    ) {\r\n      setCompetitions(\r\n        getCompetitionsById(selectedEvent).sort((a, b) =>\r\n          a.name > b.name ? 1 : b.name > a.name ? -1 : 0\r\n        )\r\n      );\r\n      toDisplay(true);\r\n    } else toDisplay(false);\r\n  }\r\n\r\n  function displayAddButton() {\r\n    return (\r\n      <AddButton\r\n        label={\"Competition\"}\r\n        pathname={\"/competitions/add\"}\r\n        state={{ eventID: selectedEvent }}\r\n        history={props.history}\r\n      />\r\n    );\r\n  }\r\n\r\n  function competitionList() {\r\n    return competitions.map(function (currCompetition) {\r\n      return (\r\n        <Competition\r\n          competition={currCompetition}\r\n          deleteCompetition={deleteCompetition}\r\n          key={currCompetition._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  function deleteCompetition(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Competition was deleted successfully!\");\r\n\r\n            deleteCompetitionAction(dispatch, id).catch((err) => {\r\n              console.error(err);\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Error Deleting this data!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function displayCompetitions() {\r\n    return (\r\n      <div>\r\n        <h5>List of Competition(s) for Selected Event</h5>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Type</th>\r\n              <th>Min. # of Person</th>\r\n              <th>Max # of Person</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{competitionList()}</tbody>\r\n        </table>\r\n        {displayAddButton()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"competitions container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          {events.length > 0 ? (\r\n            <div className=\"lander\">\r\n              <div>\r\n                <SelectEvent\r\n                  events={events}\r\n                  selectedEvent={selectedEvent}\r\n                  onChangeSelectedEvent={onChangeSelectedEvent}\r\n                  handleViewBtn={handleViewBtn}\r\n                />\r\n              </div>\r\n              {display ? (\r\n                displayCompetitions()\r\n              ) : (\r\n                <div>\r\n                  <h3>Nothing to display!</h3>\r\n                  {displayAddButton()}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <h3>\r\n                There is no Event as of the moment! Please create one first.\r\n              </h3>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport {\r\n  loadCompetitionsAction,\r\n  editCompetitionAction,\r\n} from \"../../context/actions/CompetitionActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function EditCompetition(props) {\r\n  const [eventID, setEventID] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [criterias, setCriterias] = useState([]);\r\n  const [minNoOfPerson, setMinNoOfPerson] = useState(0);\r\n  const [maxNoOfPerson, setMaxNoOfPerson] = useState(0);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions]);\r\n\r\n  async function onLoad() {\r\n    try {\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading competitions failed. \" + err.message);\r\n      throw err;\r\n    }\r\n    //await axios\r\n    //  .get(\"http://localhost:5000/competitions/\" + props.match.params.id)\r\n    if (state.competitions.length > 0) {\r\n      const comp = getCompetitionById(props.match.params.id);\r\n\r\n      setEventID(comp.event_id);\r\n      setName(comp.name);\r\n      setType(comp.type);\r\n      setCriterias(comp.criterias);\r\n      setMinNoOfPerson(comp.minNoOfPerson);\r\n      setMaxNoOfPerson(comp.maxNoOfPerson);\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getCompetitionById(id) {\r\n    return state.competitions.find(\r\n      (competition) => competition._id === props.match.params.id\r\n    );\r\n  }\r\n\r\n  function validateForm() {\r\n    return name.length > 0 && minNoOfPerson > 0 && maxNoOfPerson > 0;\r\n  }\r\n\r\n  function onChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function onChangeType(e) {\r\n    setType(e.target.value);\r\n  }\r\n\r\n  function onChangeMinNoOfPerson(e) {\r\n    setMinNoOfPerson(e.target.value);\r\n  }\r\n\r\n  function onChangeMaxNoOfPerson(e) {\r\n    setMaxNoOfPerson(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    showDialog(true, \"update\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const updatedCompetition = {\r\n              event_id: eventID,\r\n              name: name,\r\n              type: type,\r\n              criterias: criterias,\r\n              minNoOfPerson: minNoOfPerson,\r\n              maxNoOfPerson: maxNoOfPerson,\r\n            };\r\n\r\n            //updateCompetitionApi(props.match.params.id, updatedCompetition)\r\n            editCompetitionAction(\r\n              dispatch,\r\n              props.match.params.id,\r\n              updatedCompetition\r\n            )\r\n              .then(() => {\r\n                toast.success(`Competition was updated successfully!`);\r\n\r\n                props.history.push(\"/competitions\");\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error updating this competition.\");\r\n              });\r\n\r\n            // props.history.push(\"/competitions\");\r\n            // window.location.reload();\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Unexpected error!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/competitions\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-competition container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <br />\r\n          <h5>Edit Competition</h5>\r\n          <form onSubmit={handleSubmit}>\r\n            <FormGroup controlId=\"name\">\r\n              <FormLabel>Name</FormLabel>\r\n              <FormControl\r\n                autoFocus\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={onChangeName}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"type\">\r\n              <FormLabel>Type</FormLabel>\r\n              <FormControl as=\"select\" value={type} onChange={onChangeType}>\r\n                <option key=\"musical\" value=\"musical\">\r\n                  Musical\r\n                </option>\r\n                <option key=\"literary\" value=\"literary\">\r\n                  Literary\r\n                </option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"minNoOfPerson\">\r\n              <FormLabel>Min. # of Person</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                value={minNoOfPerson}\r\n                onChange={onChangeMinNoOfPerson}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"maxNoOfPerson\">\r\n              <FormLabel>Max # of Person</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                value={maxNoOfPerson}\r\n                onChange={onChangeMaxNoOfPerson}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"loaderBtn\">\r\n              <LoaderButton\r\n                block\r\n                type=\"submit\"\r\n                isLoading={isLoading}\r\n                disabled={!validateForm()}\r\n              >\r\n                Update\r\n              </LoaderButton>\r\n            </FormGroup>\r\n          </form>\r\n          <LoaderButton block onClick={handleCancel}>\r\n            Cancel\r\n          </LoaderButton>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { notify } from \"../../components/notifications/Notification\";\r\nimport {\r\n  loadCompetitionsAction,\r\n  addCompetitionAction,\r\n} from \"../../context/actions/CompetitionActions\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function CreateCompetition(props) {\r\n  const [isLoading, setIsLoading] = useState(\"\");\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    name: \"\",\r\n    type: \"\",\r\n    criterias: [],\r\n    minNoOfPerson: 0,\r\n    maxNoOfPerson: 0,\r\n  });\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions]);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state) {\r\n      toast.warn(\r\n        \"Please choose an event first before creating a competition...\"\r\n      );\r\n      props.history.push(\"/competitions\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading competitions failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function validateForm() {\r\n    return (\r\n      fields.name.length > 0 &&\r\n      fields.type != \"\" &&\r\n      fields.minNoOfPerson > 0 &&\r\n      fields.maxNoOfPerson > 0\r\n    );\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    showDialog(true, \"add\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const newCompetition = {\r\n              event_id: props.location.state.eventID,\r\n              name: fields.name,\r\n              type: fields.type,\r\n              criterias: fields.criterias,\r\n              minNoOfPerson: fields.minNoOfPerson,\r\n              maxNoOfPerson: fields.maxNoOfPerson,\r\n            };\r\n\r\n            addCompetitionAction(dispatch, newCompetition)\r\n              .then((res) => {\r\n                toast.success(`New competition was added successfully!`);\r\n\r\n                props.history.push({\r\n                  pathname: \"/competitions\",\r\n                  // state: {\r\n                  //   competition: res.data,\r\n                  // },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error adding this competition.\");\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          notify(\"Unexpected error!\", \"error\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/competitions\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-competition container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <br />\r\n          <h5>Create Competition</h5>\r\n          <form onSubmit={handleSubmit}>\r\n            <FormGroup controlId=\"name\">\r\n              <FormLabel>Name</FormLabel>\r\n              <FormControl\r\n                autoFocus\r\n                type=\"text\"\r\n                placeholder=\"Enter Name\"\r\n                value={fields.name}\r\n                onChange={handleFieldChange}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"type\">\r\n              <FormLabel>Type</FormLabel>\r\n              <FormControl\r\n                as=\"select\"\r\n                value={fields.type}\r\n                onChange={handleFieldChange}\r\n              >\r\n                <option key=\"\" value=\"\">\r\n                  Select Type\r\n                </option>\r\n                <option key=\"musical\" value=\"musical\">\r\n                  Musical\r\n                </option>\r\n                <option key=\"literary\" value=\"literary\">\r\n                  Literary\r\n                </option>\r\n              </FormControl>\r\n            </FormGroup>\r\n            <FormGroup controlId=\"minNoOfPerson\">\r\n              <FormLabel>Min. # of Person</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                value={fields.minNoOfPerson}\r\n                onChange={handleFieldChange}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"maxNoOfPerson\">\r\n              <FormLabel>Max # of Person</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                value={fields.maxNoOfPerson}\r\n                onChange={handleFieldChange}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup controlId=\"submit\">\r\n              <LoaderButton\r\n                block\r\n                type=\"submit\"\r\n                isLoading={isLoading}\r\n                disabled={!validateForm()}\r\n              >\r\n                Create\r\n              </LoaderButton>\r\n            </FormGroup>\r\n          </form>\r\n          <LoaderButton block onClick={handleCancel}>\r\n            Cancel\r\n          </LoaderButton>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { faTrash, faEdit, faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { deleteCriteriaAction } from \"../../context/actions/CompetitionActions\";\r\n\r\nconst Criteria = (props) => (\r\n  <tr>\r\n    <td>{props.criteria.title}</td>\r\n    <td>{props.criteria.value}</td>\r\n    <td>\r\n      <Link\r\n        to={{\r\n          pathname: \"/criterias/\" + props.criteria._id,\r\n          state: { competition: props.competition },\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n      </Link>\r\n      &nbsp; |\r\n      <Button\r\n        variant=\"link\"\r\n        onClick={() => {\r\n          props.deleteCriteria(props.criteria._id);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n      </Button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function Criterias(props) {\r\n  //<Link to={\"/criterias/\"+props.criteria._id}>Edit</Link> | <a href=\"#\" onClick={() => { props.deleteCriteria(props.criteria._id) }}>Delete</a>\r\n  const [competition, setCompetition] = useState(\"\");\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, []);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state && !props.match.params.id) {\r\n      toast.warn(\"Please choose a competition first before proceeding...\");\r\n      props.history.push(\"/competitions\");\r\n      return;\r\n    }\r\n\r\n    await setCompetition(props.location.state.competition);\r\n\r\n    try {\r\n      if (state.competitions.length === 0) {\r\n        //await loadCompetitionsAction(dispatch);\r\n        props.history.push(\"/competitions\");\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  function deleteCriteria(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Criteria was deleted successfully!\");\r\n            let comp = competition;\r\n            comp.criterias = comp.criterias.filter((cl) => cl._id !== id);\r\n            props.history.push({\r\n              pathname: \"/criterias\",\r\n              state: {\r\n                competition: comp,\r\n              },\r\n            });\r\n\r\n            deleteCriteriaAction(dispatch, competition._id, id).catch((err) => {\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          toast.error(\"Error Deleting this data! \" + err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  function criteriaList() {\r\n    let criterias = competition.criterias;\r\n    if (criterias) {\r\n      return criterias.map((currCriteria) => {\r\n        return (\r\n          <Criteria\r\n            competition={competition}\r\n            criteria={currCriteria}\r\n            deleteCriteria={deleteCriteria}\r\n            key={currCriteria._id}\r\n          />\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  function computeTotal(competition) {\r\n    let criterias = competition.criterias;\r\n    let totals = 0;\r\n    if (criterias) {\r\n      criterias.map((criteria) => {\r\n        totals += parseFloat(criteria.value);\r\n      });\r\n    }\r\n    return totals;\r\n  }\r\n\r\n  return (\r\n    <div className=\"criterias container\">\r\n      <AlertDialog />\r\n      <div className=\"lander\">\r\n        <br />\r\n        <h5>List of Criteria(s) for {competition.name}</h5>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th width={\"65%\"}>Title</th>\r\n              <th>Percentage (%)</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {criteriaList()}\r\n            <tr>\r\n              <td className=\"bold\">Total</td>\r\n              <td className=\"bold\">{computeTotal(competition)}</td>\r\n              <td></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <AddButton\r\n        label={\"Criteria\"}\r\n        pathname={\"/criterias/add\"}\r\n        state={{ competition: competition }}\r\n        history={props.history}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport { useFormFields } from \"../../libs/hooksLib\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { addCriteriaAction } from \"../../context/actions/CompetitionActions\";\r\n\r\nexport default function CreateCriteria(props) {\r\n  const [competition, setCompetition] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [fields, handleFieldChange] = useFormFields({\r\n    title: \"\",\r\n    value: 0,\r\n  });\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, []);\r\n\r\n  function onLoad() {\r\n    setCompetition(props.location.state.competition);\r\n  }\r\n\r\n  function validateForm() {\r\n    return fields.title.length > 0 && fields.value > 0;\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    showDialog(true, \"add\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            // axios\r\n            //   .post(\r\n            //     \"http://localhost:5000/competitions/\" +\r\n            //       props.location.state.competition._id +\r\n            //       \"/add\",\r\n            //     fields\r\n            //   )\r\n            //createCriteriaApi(props.location.state.competition._id, fields)\r\n            addCriteriaAction(\r\n              dispatch,\r\n              props.location.state.competition._id,\r\n              fields\r\n            )\r\n              .then((res) => {\r\n                toast.success(`New criteria was added successfully!`);\r\n\r\n                props.history.push({\r\n                  pathname: \"/criterias\",\r\n                  state: {\r\n                    competition: res.data,\r\n                  },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error adding this criteria.\");\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          toast.error(\"Unexpected error!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push({\r\n      pathname: \"/criterias\",\r\n      state: {\r\n        competition: competition,\r\n      },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-criteria container\">\r\n      <AlertDialog />\r\n      <br />\r\n      <h5>Create Criteria</h5>\r\n      <form onSubmit={handleSubmit}>\r\n        <FormGroup controlId=\"title\">\r\n          <FormLabel>Title</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"text\"\r\n            value={fields.title}\r\n            onChange={handleFieldChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"value\">\r\n          <FormLabel>Percentage (%)</FormLabel>\r\n          <FormControl\r\n            type=\"text\"\r\n            value={fields.value}\r\n            onChange={handleFieldChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"submit\">\r\n          <LoaderButton\r\n            block\r\n            type=\"submit\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            Create\r\n          </LoaderButton>\r\n        </FormGroup>\r\n      </form>\r\n      <LoaderButton block onClick={handleCancel}>\r\n        Cancel\r\n      </LoaderButton>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { editCriteriaAction } from \"../../context/actions/CompetitionActions\";\r\n\r\nexport default function EditCriteria(props) {\r\n  const [competition, setCompetition] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [value, setValue] = useState(0);\r\n  const { dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, []);\r\n\r\n  function onLoad() {\r\n    try {\r\n      const localCompetition = props.location.state.competition;\r\n      const criteria = getCriteriaById(localCompetition, props.match.params.id);\r\n      setCompetition(localCompetition);\r\n\r\n      setTitle(criteria.title);\r\n      setValue(parseInt(criteria.value));\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  function getCriteriaById(localCompetition, id) {\r\n    return localCompetition.criterias.find((criteria) => criteria._id === id);\r\n  }\r\n\r\n  function validateForm() {\r\n    return title.length > 0 && value > 0;\r\n  }\r\n\r\n  function onChangeTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function onChangeValue(e) {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push({\r\n      pathname: \"/criterias\",\r\n      state: {\r\n        competition: competition,\r\n      },\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    showDialog(true, \"update\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const updatedCriteria = {\r\n              title: title,\r\n              value: value,\r\n            };\r\n            editCriteriaAction(\r\n              dispatch,\r\n              competition._id,\r\n              props.match.params.id,\r\n              updatedCriteria\r\n            )\r\n              .then((res) => {\r\n                toast.success(`Criteria was updated successfully!`);\r\n\r\n                props.history.push({\r\n                  pathname: \"/criterias\",\r\n                  state: {\r\n                    competition: res.data,\r\n                  },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error updating this criteria.\");\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Unexpected error!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"edit-criteria container\">\r\n      <AlertDialog />\r\n      <br />\r\n      <h5>Edit Criteria</h5>\r\n      <form onSubmit={handleSubmit}>\r\n        <FormGroup controlId=\"title\">\r\n          <FormLabel>Title</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={onChangeTitle}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"value\">\r\n          <FormLabel>Percentage (%)</FormLabel>\r\n          <FormControl type=\"text\" value={value} onChange={onChangeValue} />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"submit\">\r\n          <LoaderButton\r\n            block\r\n            type=\"submit\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            Update\r\n          </LoaderButton>\r\n        </FormGroup>\r\n      </form>\r\n      <LoaderButton block onClick={handleCancel}>\r\n        Cancel\r\n      </LoaderButton>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faTrash, faEdit, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport SelectEvent from \"../../components/SelectEvent\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { loadEventsAction } from \"../../context/actions/EventActions\";\r\nimport {\r\n  loadChurchesAction,\r\n  deleteChurchAction,\r\n} from \"../../context/actions/ChurchActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nconst Church = (props) => (\r\n  <tr>\r\n    <td>{props.church.name}</td>\r\n    <td>{props.church.acronym}</td>\r\n    <td>{props.church.churchNumber}</td>\r\n    <td>\r\n      <Link\r\n        to={{\r\n          pathname: \"/participants\",\r\n          state: { church: props.church },\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faEye} fixedWidth />\r\n        &nbsp;Participants\r\n      </Link>\r\n      &nbsp; | &nbsp;\r\n      <Link to={\"/churches/\" + props.church._id}>\r\n        <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n      </Link>\r\n      &nbsp; |\r\n      <Button\r\n        variant=\"link\"\r\n        onClick={() => {\r\n          props.deleteChurch(props.church._id);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n      </Button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function Churches(props) {\r\n  const [churches, setChurches] = useState([]);\r\n  const [events, setEvents] = useState([]);\r\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\r\n  const [display, toDisplay] = useState(false);\r\n  const { state, dispatch } = useContext(store);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.churches, state.events]);\r\n\r\n  async function onLoad() {\r\n    let defaultID = \"\";\r\n\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n      if (state.churches.length === 0) {\r\n        await loadChurchesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    if (state.events.length > 0) {\r\n      setEvents(\r\n        state.events.sort((a, b) =>\r\n          a.title > b.title ? -1 : b.title > a.title ? 1 : 0\r\n        )\r\n      );\r\n\r\n      setSelectedEvent(state.events[0]._id);\r\n      defaultID = state.events[0]._id;\r\n\r\n      if (state.churches.length > 0 && getChurchesById(defaultID).length > 0) {\r\n        setChurches(\r\n          getChurchesById(defaultID).sort((a, b) =>\r\n            a.churchNumber > b.churchNumber\r\n              ? 1\r\n              : b.churchNumber > a.churchNumber\r\n              ? -1\r\n              : 0\r\n          )\r\n        );\r\n\r\n        toDisplay(true);\r\n      }\r\n      console.log(state);\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getChurchesById(id) {\r\n    return state.churches.filter((church) => church.event_id == id);\r\n  }\r\n\r\n  function onChangeSelectedEvent(e) {\r\n    setSelectedEvent(e.target.value);\r\n  }\r\n\r\n  function handleViewBtn() {\r\n    setChurches([]);\r\n\r\n    if (\r\n      state.churches.length > 0 &&\r\n      getChurchesById(selectedEvent).length > 0\r\n    ) {\r\n      setChurches(\r\n        getChurchesById(selectedEvent).sort((a, b) =>\r\n          a.churchNumber > b.churchNumber\r\n            ? 1\r\n            : b.churchNumber > a.churchNumber\r\n            ? -1\r\n            : 0\r\n        )\r\n      );\r\n      toDisplay(true);\r\n    } else toDisplay(false);\r\n  }\r\n\r\n  function displayAddButton() {\r\n    return (\r\n      <AddButton\r\n        label={\"Church\"}\r\n        pathname={\"/churches/add\"}\r\n        state={{ eventID: selectedEvent }}\r\n        history={props.history}\r\n      />\r\n    );\r\n  }\r\n\r\n  function deleteChurch(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Church data was deleted successfully!\");\r\n            deleteChurchAction(dispatch, id).catch((err) => {\r\n              console.error(err);\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Error Deleting this data!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function churchList() {\r\n    return churches.map(function (currChurch) {\r\n      return (\r\n        <Church\r\n          church={currChurch}\r\n          deleteChurch={deleteChurch}\r\n          key={currChurch._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  function displayChurches() {\r\n    return (\r\n      <div>\r\n        <h5>List of Churches(s) for Selected Event</h5>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Acronym</th>\r\n              <th>Church Number</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{churchList()}</tbody>\r\n        </table>\r\n        {displayAddButton()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"churches container\">\r\n      <AlertDialog />\r\n      {isApiInProgress > 0 ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          {events.length > 0 ? (\r\n            <div className=\"lander\">\r\n              <div>\r\n                <SelectEvent\r\n                  events={events}\r\n                  selectedEvent={selectedEvent}\r\n                  onChangeSelectedEvent={onChangeSelectedEvent}\r\n                  handleViewBtn={handleViewBtn}\r\n                />\r\n              </div>\r\n              {display ? (\r\n                displayChurches()\r\n              ) : (\r\n                <div>\r\n                  <h3>Nothing to display!</h3>\r\n                  {displayAddButton()}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <h3>\r\n                There is no Event as of the moment! Please create one first.\r\n              </h3>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\n\nconst TextInput = ({ name, label, onChange, placeholder, value }) => {\n  return (\n    <FormGroup controlId=\"title\">\n      <FormLabel>{label}</FormLabel>\n      <FormControl\n        type=\"text\"\n        name={name}\n        placeholder={placeholder}\n        value={value}\n        onChange={onChange}\n      />\n    </FormGroup>\n  );\n};\n\nTextInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n};\n\nexport default TextInput;\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { FormGroup } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport {\r\n  addChurchAction,\r\n  editChurchAction,\r\n  loadChurchesAction,\r\n} from \"../../context/actions/ChurchActions\";\r\nimport { store } from \"../../context/Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport Spinner from \"../../components/Spinner\";\r\nimport TextInput from \"../../components/TextInput\";\r\n\r\nexport default function ChurchForm(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [acronym, setAcronym] = useState(\"\");\r\n  const [churchNumber, setChurchNumber] = useState(\"\");\r\n  const [participants, setParticipants] = useState(\"\");\r\n  const [event_id, setEventId] = useState(\"\");\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.churches]);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state && !props.match.params.id) {\r\n      toast.warn(\"Please choose an event first before proceeding...\");\r\n      props.history.push(\"/churches\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (state.churches.length === 0) {\r\n        await loadChurchesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading churches failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n\r\n    if (props.match.params.id && state.churches.length > 0) {\r\n      setIsEdit(true);\r\n      const church = getChurchesById(props.match.params.id);\r\n\r\n      setName(church.name);\r\n      setAcronym(church.acronym);\r\n      setChurchNumber(church.churchNumber);\r\n      setParticipants(church.participants);\r\n      setEventId(church.event_id);\r\n    }\r\n  }\r\n\r\n  function getChurchesById(id) {\r\n    return state.churches.find((church) => church._id === id);\r\n  }\r\n\r\n  function validateForm() {\r\n    return name.length > 0 && acronym.length > 0;\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/churches\");\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (isEdit) {\r\n      showDialog(true, \"update\", (res) => {\r\n        res\r\n          .then((proceed) => {\r\n            if (proceed) {\r\n              setIsLoading(true);\r\n\r\n              const updatedChurch = {\r\n                event_id,\r\n                name,\r\n                churchNumber,\r\n                participants,\r\n                acronym,\r\n              };\r\n\r\n              editChurchAction(dispatch, props.match.params.id, updatedChurch)\r\n                .then(() => {\r\n                  toast.success(`Church was updated successfully!`);\r\n                  props.history.push(\"/churches\");\r\n                })\r\n                .catch((err) => {\r\n                  setIsLoading(false);\r\n                  console.error(err);\r\n                  toast.error(\"Error updating this church. \" + err.message);\r\n                });\r\n            } else throw new Error(\"Error\");\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            toast.error(\"Unexpected error! \" + err.message);\r\n          });\r\n      });\r\n    } else {\r\n      showDialog(true, \"add\", (res) => {\r\n        res\r\n          .then((proceed) => {\r\n            if (proceed) {\r\n              setIsLoading(true);\r\n\r\n              const newChurch = {\r\n                event_id: props.location.state.eventID,\r\n                name,\r\n                churchNumber: 0,\r\n                participants: [],\r\n                acronym,\r\n              };\r\n\r\n              addChurchAction(dispatch, newChurch)\r\n                .then(() => {\r\n                  toast.success(\"New Church was added successfully!\");\r\n                  props.history.push(\"/churches\");\r\n                })\r\n                .catch((err) => {\r\n                  setIsLoading(false);\r\n                  toast.error(\"Error adding this Church. \" + err.message);\r\n                });\r\n            } else throw new Error(\"Error\");\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            toast.error(\"Unexpected error! \" + err.message);\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  return isApiInProgress ? (\r\n    <Spinner />\r\n  ) : (\r\n    <div className=\"church-form container\">\r\n      <AlertDialog />\r\n      <br />\r\n      {isEdit ? <h5>Edit Church</h5> : <h5>Create Church</h5>}\r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput\r\n          name=\"Name\"\r\n          label=\"Name\"\r\n          placeholder=\"Enter Name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Acronym\"\r\n          label=\"Acronym\"\r\n          placeholder=\"Enter Acronym\"\r\n          value={acronym}\r\n          onChange={(e) => setAcronym(e.target.value)}\r\n        />\r\n        <FormGroup controlId=\"submit\">\r\n          <LoaderButton\r\n            block\r\n            type=\"submit\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            {isEdit ? \"Update\" : \"Create\"}\r\n          </LoaderButton>\r\n        </FormGroup>\r\n      </form>\r\n      <LoaderButton block onClick={handleCancel}>\r\n        Cancel\r\n      </LoaderButton>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { FormGroup, FormControl } from \"react-bootstrap\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const SelectCategory = ({\r\n  categories,\r\n  selectedCategory,\r\n  onChangeSelectedCategory,\r\n}) => {\r\n  return (\r\n    <FormGroup>\r\n      <br />\r\n      <h5>Choose Category</h5>\r\n      <FormControl\r\n        autoFocus\r\n        as=\"select\"\r\n        value={selectedCategory}\r\n        onChange={onChangeSelectedCategory}\r\n      >\r\n        {categories.map(function (category) {\r\n          return (\r\n            <option key={category.key} value={category.key}>\r\n              {category.value}\r\n            </option>\r\n          );\r\n        })}\r\n      </FormControl>\r\n    </FormGroup>\r\n  );\r\n};\r\n\r\nSelectCategory.propTypes = {\r\n  categories: PropTypes.array.isRequired,\r\n  selectedCategory: PropTypes.string.isRequired,\r\n  onChangeSelectedCategory: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SelectCategory;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { faTrash, faEdit, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Tab, Nav, Row, Col } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport SelectCategory from \"../../components/SelectCategory\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport {\r\n  loadChurchesAction,\r\n  deleteParticipantAction,\r\n} from \"../../context/actions/ChurchActions\";\r\nimport { loadCompetitionsAction } from \"../../context/actions/CompetitionActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nconst Participant = (props) => {\r\n  const name =\r\n    props.participant.firstName +\r\n    (props.participant.middleInitial\r\n      ? \" \" + props.participant.middleInitial\r\n      : \"\") +\r\n    (props.participant.lastName ? \" \" + props.participant.lastName : \"\");\r\n\r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{props.participant.age}</td>\r\n      <td>\r\n        {props.participant.dateSaved === \"N/A\"\r\n          ? \"N/A\"\r\n          : props.participant.dateSaved.substring(0, 10)}\r\n      </td>\r\n      <td>\r\n        {props.participant.dateBaptized === \"N/A\"\r\n          ? \"N/A\"\r\n          : props.participant.dateBaptized.substring(0, 10)}\r\n      </td>\r\n      <td>\r\n        <Link\r\n          to={{\r\n            pathname: \"/participants/\" + props.participant._id,\r\n            state: { church: props.church },\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n        </Link>\r\n        &nbsp; |\r\n        <Button\r\n          variant=\"link\"\r\n          onClick={() => {\r\n            props.deleteParticipant(props.participant._id);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n        </Button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default function Participants(props) {\r\n  const [church, setChurch] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const { state, dispatch } = useContext(store);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n\r\n  const categories = [\r\n    {\r\n      key: \"musical\",\r\n      value: \"Musical\",\r\n    },\r\n    {\r\n      key: \"literary\",\r\n      value: \"Literary\",\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions]);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state && !props.match.params.id) {\r\n      toast.warn(\"Please choose a church first before proceeding...\");\r\n      props.history.push(\"/churches\");\r\n      return;\r\n    }\r\n\r\n    await setChurch(props.location.state.church);\r\n\r\n    try {\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n\r\n      if (state.churches.length === 0) {\r\n        props.history.push(\"/churches\");\r\n        //await loadChurchesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n\r\n    setSelectedCategory(categories[0].key);\r\n  }\r\n\r\n  function tabHeading() {\r\n    if (state.competitions.length > 0) {\r\n      return state.competitions\r\n        .filter((competition) => competition.type == selectedCategory)\r\n        .map((competition, index) => (\r\n          <Nav.Item key={index}>\r\n            <Nav.Link className=\"tab-nav-link\" eventKey={index + 1}>\r\n              {competition.name}\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        ));\r\n    }\r\n  }\r\n\r\n  function deleteParticipant(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Participant was deleted successfully!\");\r\n            let updatedChurch = church;\r\n            updatedChurch.participants = updatedChurch.participants.filter(\r\n              (cl) => cl._id !== id\r\n            );\r\n\r\n            props.history.push({\r\n              pathname: \"/participants\",\r\n              state: {\r\n                church: updatedChurch,\r\n              },\r\n            });\r\n\r\n            deleteParticipantAction(dispatch, church._id, id).catch((err) => {\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          toast.error(\"Error Deleting this data! \" + err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  function participantsList() {\r\n    if (state.competitions.length > 0) {\r\n      return state.competitions\r\n        .filter((competition) => competition.type == selectedCategory)\r\n        .map((competition, index) => {\r\n          const filteredParticipants = church.participants.filter(\r\n            (participant) => participant.competition_id == competition._id\r\n          );\r\n\r\n          return (\r\n            <Tab.Pane key={index + 1} eventKey={index + 1}>\r\n              <div>\r\n                {church.participants.length > 0 &&\r\n                filteredParticipants.length > 0 ? (\r\n                  <>\r\n                    <table className=\"table\">\r\n                      <thead className=\"thead-light\">\r\n                        <tr>\r\n                          <th>Name</th>\r\n                          <th>Age</th>\r\n                          <th>Date Saved</th>\r\n                          <th>Date Baptized</th>\r\n                          <th>Actions</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {filteredParticipants.map((participant) => (\r\n                          <Participant\r\n                            participant={participant}\r\n                            deleteParticipant={deleteParticipant}\r\n                            key={participant._id}\r\n                            church={church}\r\n                          />\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                    <AddButton\r\n                      label={\"Participant\"}\r\n                      pathname={\"/participants/add\"}\r\n                      state={{\r\n                        church: church,\r\n                        competition_id: competition._id,\r\n                        maxNoOfPerson: competition.maxNoOfPerson,\r\n                      }}\r\n                      history={props.history}\r\n                    />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <h5>There is no participant for this competition.</h5>\r\n                    <AddButton\r\n                      label={\"Participant\"}\r\n                      pathname={\"/participants/add\"}\r\n                      state={{\r\n                        church: church,\r\n                        competition_id: competition._id,\r\n                        maxNoOfPerson: competition.maxNoOfPerson,\r\n                      }}\r\n                      history={props.history}\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n            </Tab.Pane>\r\n          );\r\n        });\r\n    }\r\n    // if (church.participants.length > 0) {\r\n    //   return church.participants.map((participant, index) => (\r\n    //     <Tab.Pane key={index + 1} eventKey={index + 1}>\r\n    //       <div className=\"row\">\r\n    //         <h4>{getCompetitionById(participant.competition_id).name}</h4>\r\n    //       </div>\r\n    //     </Tab.Pane>\r\n    //   ));\r\n    // } else {\r\n    //   return <></>;\r\n    // }\r\n  }\r\n\r\n  function getCompetitionById(id) {\r\n    return state.competitions.filter((competition) => competition._id == id)[0];\r\n  }\r\n\r\n  function onChangeSelectedCategory(e) {\r\n    setSelectedCategory(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"participants container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <div className=\"lander\">\r\n          <SelectCategory\r\n            categories={categories}\r\n            selectedCategory={selectedCategory}\r\n            onChangeSelectedCategory={onChangeSelectedCategory}\r\n          />\r\n          <Tab.Container\r\n            id=\"left-tabs\"\r\n            defaultActiveKey=\"1\"\r\n            className=\"tab-container\"\r\n          >\r\n            <Row>\r\n              <Col md={{ span: 10, order: 2 }}>\r\n                <Tab.Content>{participantsList()}</Tab.Content>\r\n              </Col>\r\n              <Col md={{ span: 2, order: 1 }}>\r\n                <Nav variant=\"pills\" className=\"flex-column\">\r\n                  {tabHeading()}\r\n                </Nav>\r\n                <br />\r\n              </Col>\r\n            </Row>\r\n          </Tab.Container>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { FormGroup, FormControl, FormLabel } from \"react-bootstrap\";\r\n\r\nconst Checkbox = ({ name, label, onChange, checked }) => {\r\n  return (\r\n    <>\r\n      <input\r\n        type=\"checkbox\"\r\n        name={name}\r\n        checked={checked}\r\n        onChange={onChange}\r\n      />\r\n      &nbsp;\r\n      {label}\r\n    </>\r\n  );\r\n};\r\n\r\nCheckbox.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  checked: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { FormGroup, FormLabel, Button } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport {\r\n  addParticipantAction,\r\n  editParticipantAction,\r\n} from \"../../context/actions/ChurchActions\";\r\nimport { loadCompetitionsAction } from \"../../context/actions/CompetitionActions\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { store } from \"../../context/Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport Spinner from \"../../components/Spinner\";\r\nimport TextInput from \"../../components/TextInput\";\r\nimport Checkbox from \"../../components/Checkbox\";\r\n\r\nexport default function ParticipantForm(props) {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleInitial, setMiddleInitial] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [age, setAge] = useState(0);\r\n  const [dateSaved, setDateSaved] = useState(new Date());\r\n  const [dateBaptized, setDateBaptized] = useState(new Date());\r\n  const [competition_id, setCompetitionID] = useState(\"\");\r\n\r\n  const [church, setChurch] = useState(\"\");\r\n\r\n  const [enableDateSaved, setEnableDateSaved] = useState(true);\r\n  const [enableDateBaptized, setEnableDateBaptized] = useState(true);\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, []);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state && !props.match.params.id) {\r\n      toast.warn(\"Please choose a church first before proceeding...\");\r\n      props.history.push(\"/churches\");\r\n      return;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n\r\n    try {\r\n      if (props.match.params.id && props.location.state.church) {\r\n        setIsEdit(true);\r\n        const participant = getParticipantById(\r\n          props.match.params.id,\r\n          props.location.state.church\r\n        );\r\n\r\n        setFirstName(participant.firstName);\r\n        setMiddleInitial(participant.middleInitial);\r\n        setLastName(participant.lastName);\r\n        setAge(participant.age);\r\n        participant.dateSaved.toString() === \"N/A\"\r\n          ? setEnableDateSaved(false)\r\n          : setDateSaved(new Date(participant.dateSaved));\r\n        participant.dateBaptized.toString() === \"N/A\"\r\n          ? setEnableDateBaptized(false)\r\n          : setDateBaptized(new Date(participant.dateBaptized));\r\n        setCompetitionID(participant.competition_id);\r\n      }\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  function getParticipantById(id, church) {\r\n    return church.participants.filter(\r\n      (participant) => participant._id == id\r\n    )[0];\r\n  }\r\n\r\n  function validateForm() {\r\n    return (\r\n      firstName.length > 0 &&\r\n      middleInitial.length > 0 &&\r\n      lastName.length > 0 &&\r\n      age != 0\r\n    );\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push({\r\n      pathname: \"/participants\",\r\n      state: {\r\n        church: props.location.state.church,\r\n      },\r\n    });\r\n  }\r\n\r\n  function toggleSavedChange() {\r\n    setEnableDateSaved(!enableDateSaved);\r\n  }\r\n\r\n  function toggleBaptizedChange() {\r\n    setEnableDateBaptized(!enableDateBaptized);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (isEdit) {\r\n      showDialog(true, \"update\", (res) => {\r\n        res.then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const updatedParticipant = {\r\n              competition_id,\r\n              firstName,\r\n              middleInitial,\r\n              lastName,\r\n              age,\r\n              dateSaved: enableDateSaved ? dateSaved.toISOString() : \"N/A\",\r\n              dateBaptized: enableDateBaptized\r\n                ? dateBaptized.toISOString()\r\n                : \"N/A\",\r\n            };\r\n\r\n            editParticipantAction(\r\n              dispatch,\r\n              props.location.state.church._id,\r\n              props.match.params.id,\r\n              updatedParticipant\r\n            )\r\n              .then((res) => {\r\n                toast.success(`Participant was updated successfully!`);\r\n                props.history.push({\r\n                  pathname: \"/participants\",\r\n                  state: {\r\n                    church: res.data,\r\n                  },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                console.error(err);\r\n                toast.error(\"Error updating this participant. \" + err.message);\r\n              });\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      showDialog(true, \"add\", (res) => {\r\n        res.then((proceed) => {\r\n          if (proceed) {\r\n            setIsLoading(true);\r\n\r\n            const newParticipant = {\r\n              competition_id: props.location.state.competition_id,\r\n              firstName,\r\n              middleInitial,\r\n              lastName,\r\n              age,\r\n              dateSaved: enableDateSaved ? dateSaved.toISOString() : \"N/A\",\r\n              dateBaptized: enableDateBaptized\r\n                ? dateBaptized.toISOString()\r\n                : \"N/A\",\r\n              maxNoOfPerson: props.location.state.maxNoOfPerson,\r\n            };\r\n\r\n            addParticipantAction(\r\n              dispatch,\r\n              props.location.state.church._id,\r\n              newParticipant\r\n            )\r\n              .then((res) => {\r\n                toast.success(\"New Participant was added successfully!\");\r\n                props.history.push({\r\n                  pathname: \"/participants\",\r\n                  state: {\r\n                    church: res.data,\r\n                  },\r\n                });\r\n              })\r\n              .catch((err) => {\r\n                setIsLoading(false);\r\n                toast.error(\"Error adding this Church. \" + err.message);\r\n              });\r\n          } else throw new Error(\"Error\");\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  return isApiInProgress ? (\r\n    <Spinner />\r\n  ) : (\r\n    <div className=\"participant-form container\">\r\n      <AlertDialog />\r\n      <br />\r\n      {isEdit ? <h5>Edit Participant</h5> : <h5>Create Participant</h5>}\r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput\r\n          name=\"First Name\"\r\n          label=\"First Name\"\r\n          placeholder=\"Enter First Name\"\r\n          value={firstName}\r\n          onChange={(e) => setFirstName(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Middle Initial\"\r\n          label=\"Middle Initial\"\r\n          placeholder=\"Enter Middle Initial\"\r\n          value={middleInitial}\r\n          onChange={(e) => setMiddleInitial(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Last Name\"\r\n          label=\"Last Name\"\r\n          placeholder=\"Enter Last Name\"\r\n          value={lastName}\r\n          onChange={(e) => setLastName(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Age\"\r\n          label=\"Age\"\r\n          placeholder=\"Enter Age\"\r\n          value={age.toString()}\r\n          onChange={(e) => setAge(e.target.value)}\r\n        />\r\n        <FormGroup controlId=\"dateSaved\">\r\n          <FormLabel>Date Saved</FormLabel>\r\n          <br />\r\n          <DatePicker\r\n            selected={dateSaved}\r\n            dateFormat=\"yyyy/MM/dd\"\r\n            onChange={(newDate) => setDateSaved(newDate)}\r\n            disabled={!enableDateSaved}\r\n            maxDate={new Date() - 1}\r\n          />\r\n          &nbsp;&nbsp;\r\n          <Checkbox\r\n            name=\"isNA\"\r\n            label=\"N/A\"\r\n            checked={!enableDateSaved}\r\n            onChange={toggleSavedChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"dateBaptized\">\r\n          <FormLabel>Date Baptized</FormLabel>\r\n          <br />\r\n          <DatePicker\r\n            selected={dateBaptized}\r\n            dateFormat=\"yyyy/MM/dd\"\r\n            onChange={(newDate) => setDateBaptized(newDate)}\r\n            disabled={!enableDateBaptized}\r\n            maxDate={new Date() - 1}\r\n          />\r\n          &nbsp;&nbsp;\r\n          <Checkbox\r\n            name=\"isNA\"\r\n            label=\"N/A\"\r\n            checked={!enableDateBaptized}\r\n            onChange={toggleBaptizedChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup controlId=\"submit\">\r\n          <LoaderButton\r\n            block\r\n            type=\"submit\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            {isEdit ? \"Update\" : \"Create\"}\r\n          </LoaderButton>\r\n        </FormGroup>\r\n      </form>\r\n      <LoaderButton block onClick={handleCancel}>\r\n        Cancel\r\n      </LoaderButton>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { handleResponse, handleError } from \"./ApiUtils\";\r\n\r\nconst baseUrl = process.env.REACT_APP_DEV_API_URL + \"/judges/\";\r\n\r\nexport function getJudgesApi() {\r\n  return axios.get(baseUrl).then(handleResponse).catch(handleError);\r\n}\r\n\r\nexport function getJudgeApi(id) {\r\n  return axios\r\n    .get(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function getJudgesEventApi(id) {\r\n  return axios\r\n    .get(`${baseUrl}event_id/${id}`)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function deleteJudgeApi(id) {\r\n  console.log(id);\r\n  return axios\r\n    .delete(baseUrl + id)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function createJudgeApi(newEvent) {\r\n  return axios\r\n    .post(baseUrl + \"add\", newEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n\r\nexport function updateJudgeApi(id, updatedEvent) {\r\n  return axios\r\n    .post(baseUrl + `update/${id}`, updatedEvent)\r\n    .then(handleResponse)\r\n    .catch(handleError);\r\n}\r\n","import * as types from \"./ActionTypes\";\r\nimport {\r\n  createJudgeApi,\r\n  getJudgesApi,\r\n  deleteJudgeApi,\r\n  updateJudgeApi,\r\n} from \"../../api/JudgeApi\";\r\n\r\nexport function loadJudgesAction(dispatch) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return getJudgesApi()\r\n    .then((res) => {\r\n      dispatch({\r\n        type: types.LOAD_JUDGES_SUCCESS,\r\n        judges: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function addJudgeAction(dispatch, newJudge) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return createJudgeApi(newJudge)\r\n    .then((res) => {\r\n      dispatch({ type: types.ADD_JUDGE_SUCCESS, judge: res.data });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function deleteJudgeAction(dispatch, id) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return deleteJudgeApi(id)\r\n    .then(() => dispatch({ type: types.DELETE_JUDGE_SUCCESS, id }))\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n\r\nexport function editJudgeAction(dispatch, _id, updatedJudge) {\r\n  dispatch({ type: types.BEGIN_API_CALL });\r\n  return updateJudgeApi(_id, updatedJudge)\r\n    .then(() => {\r\n      dispatch({\r\n        type: types.EDIT_JUDGE_SUCCESS,\r\n        judge: { _id, ...updatedJudge },\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({ type: types.API_CALL_ERROR });\r\n      throw err;\r\n    });\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { FormGroup, FormControl, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  faTrash,\r\n  faEdit,\r\n  faEye,\r\n  faPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport SelectEvent from \"../../components/SelectEvent\";\r\nimport AddButton from \"../../components/AddButton\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { loadEventsAction } from \"../../context/actions/EventActions\";\r\nimport {\r\n  loadJudgesAction,\r\n  deleteJudgeAction,\r\n} from \"../../context/actions/JudgeActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nconst Judge = (props) => {\r\n  const name =\r\n    props.judge.firstName +\r\n    (props.judge.middleInitial ? \" \" + props.judge.middleInitial : \"\") +\r\n    (props.judge.lastName ? \" \" + props.judge.lastName : \"\");\r\n\r\n  return (\r\n    <tr>\r\n      <td>{name}</td>\r\n      <td>{props.judge.accessCode}</td>\r\n      <td>{props.judge.status}</td>\r\n      <td>\r\n        <Link\r\n          to={{\r\n            pathname: \"/scoresheets\",\r\n            state: { judge: props.judge, event: props.selectedEvent },\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faEye} fixedWidth />\r\n          &nbsp;Scoresheets\r\n        </Link>\r\n        &nbsp; | &nbsp;\r\n        <Link to={\"/judges/\" + props.judge._id}>\r\n          <FontAwesomeIcon icon={faEdit} fixedWidth />\r\n        </Link>\r\n        &nbsp; |\r\n        <Button\r\n          variant=\"link\"\r\n          href=\"#\"\r\n          onClick={() => {\r\n            props.deleteJudge(props.judge._id);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faTrash} fixedWidth />\r\n        </Button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default function Judges(props) {\r\n  const [events, setEvents] = useState([]);\r\n  const [judges, setJudges] = useState([]);\r\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\r\n  const [display, toDisplay] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.judges]);\r\n\r\n  async function onLoad() {\r\n    let defaultID = \"\";\r\n\r\n    try {\r\n      if (state.events.length === 0) {\r\n        await loadEventsAction(dispatch);\r\n      }\r\n      if (state.judges.length === 0) {\r\n        await loadJudgesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    if (state.events.length > 0) {\r\n      setEvents(\r\n        state.events.sort((a, b) =>\r\n          a.title > b.title ? -1 : b.title > a.title ? 1 : 0\r\n        )\r\n      );\r\n\r\n      setSelectedEvent(state.events[0]._id);\r\n      defaultID = state.events[0]._id;\r\n\r\n      if (state.judges.length > 0 && getJudgeById(defaultID).length > 0) {\r\n        setJudges(\r\n          getJudgeById(defaultID).sort((a, b) =>\r\n            a.name > b.name ? 1 : b.name > a.name ? -1 : 0\r\n          )\r\n        );\r\n\r\n        toDisplay(true);\r\n      }\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getJudgeById(id) {\r\n    return state.judges.filter((judge) => judge.event_id == id);\r\n  }\r\n\r\n  function onChangeSelectedEvent(e) {\r\n    setSelectedEvent(e.target.value);\r\n  }\r\n\r\n  function handleViewBtn() {\r\n    setJudges([]);\r\n\r\n    if (state.judges.length > 0 && getJudgeById(selectedEvent).length > 0) {\r\n      setJudges(\r\n        getJudgeById(selectedEvent).sort((a, b) =>\r\n          a.name > b.name ? 1 : b.name > a.name ? -1 : 0\r\n        )\r\n      );\r\n      toDisplay(true);\r\n    } else toDisplay(false);\r\n  }\r\n\r\n  function displayAddButton() {\r\n    return (\r\n      <AddButton\r\n        label={\"Judge\"}\r\n        pathname={\"/judges/add\"}\r\n        state={{ eventID: selectedEvent }}\r\n        history={props.history}\r\n      />\r\n    );\r\n  }\r\n\r\n  function judgeList() {\r\n    return judges.map(function (currJudge) {\r\n      return (\r\n        <Judge\r\n          judge={currJudge}\r\n          deleteJudge={deleteJudge}\r\n          key={currJudge._id}\r\n          selectedEvent={selectedEvent}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  function deleteJudge(id) {\r\n    showDialog(true, \"delete\", (res) => {\r\n      res\r\n        .then((proceed) => {\r\n          if (proceed) {\r\n            toast.success(\"Judge was deleted successfully!\");\r\n            deleteJudgeAction(dispatch, id).catch((err) => {\r\n              console.error(err);\r\n              toast.error(\"Error Deleting this data! \" + err.message);\r\n            });\r\n            //deleteJudgeApi(id).then((res) => console.log(res.data));\r\n            //setJudges(judges.filter((jl) => jl._id !== id));\r\n          } else throw new Error(\"Error\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          toast.error(\"Error Deleting this data!\");\r\n        });\r\n    });\r\n  }\r\n\r\n  function displayJudges() {\r\n    return (\r\n      <div>\r\n        <h5>List of Judge(s) for Selected Event</h5>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Access Code</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {judgeList().sort((a, b) => (a.name > b.name ? 1 : -1))}\r\n          </tbody>\r\n        </table>\r\n        {displayAddButton()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"judges container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          {events.length > 0 ? (\r\n            <div className=\"lander\">\r\n              <div>\r\n                <SelectEvent\r\n                  events={events}\r\n                  selectedEvent={selectedEvent}\r\n                  onChangeSelectedEvent={onChangeSelectedEvent}\r\n                  handleViewBtn={handleViewBtn}\r\n                />\r\n              </div>\r\n              {display ? (\r\n                displayJudges()\r\n              ) : (\r\n                <div>\r\n                  <h3>Nothing to display!</h3>\r\n                  {displayAddButton()}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <h3>\r\n                There is no Event as of the moment! Please create one first.\r\n              </h3>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { FormGroup } from \"react-bootstrap\";\r\nimport LoaderButton from \"../../components/LoaderButton\";\r\nimport AlertDialog, { showDialog } from \"../../components/dialogs/Dialog\";\r\nimport {\r\n  addJudgeAction,\r\n  editJudgeAction,\r\n  loadJudgesAction,\r\n} from \"../../context/actions/JudgeActions\";\r\nimport { store } from \"../../context/Store\";\r\nimport { toast } from \"react-toastify\";\r\nimport Spinner from \"../../components/Spinner\";\r\nimport TextInput from \"../../components/TextInput\";\r\n\r\nexport default function JudgeForm(props) {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [middleInitial, setMiddleInitial] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [status, setStatus] = useState(\"\");\r\n  const [accessCode, setAccessCode] = useState(\"\");\r\n  const [scoresheets, setScoresheets] = useState(\"\");\r\n  const [event_id, setEventId] = useState(\"\");\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const { state, dispatch } = useContext(store);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.judges]);\r\n\r\n  async function onLoad() {\r\n    if (!props.location.state && !props.match.params.id) {\r\n      toast.warn(\"Please choose an event first before proceeding...\");\r\n      props.history.push(\"/judges\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (state.judges.length === 0) {\r\n        await loadJudgesAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading judges failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n\r\n    if (props.match.params.id && state.judges.length > 0) {\r\n      setIsEdit(true);\r\n      const judge = getJudgeById(props.match.params.id);\r\n\r\n      setFirstName(judge.firstName);\r\n      setMiddleInitial(judge.middleInitial);\r\n      setLastName(judge.lastName);\r\n      setStatus(judge.status);\r\n      setAccessCode(judge.accessCode);\r\n      setScoresheets(judge.scoresheets);\r\n      setEventId(judge.event_id);\r\n    }\r\n  }\r\n\r\n  function getJudgeById(id) {\r\n    return state.judges.find((judge) => judge._id === id);\r\n  }\r\n\r\n  function validateForm() {\r\n    return (\r\n      firstName.length > 0 && middleInitial.length > 0 && lastName.length > 0\r\n    );\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(\"/judges\");\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (isEdit) {\r\n      showDialog(true, \"update\", (res) => {\r\n        res\r\n          .then((proceed) => {\r\n            if (proceed) {\r\n              setIsLoading(true);\r\n\r\n              const updatedJudge = {\r\n                event_id,\r\n                firstName,\r\n                middleInitial,\r\n                lastName,\r\n                status,\r\n                accessCode,\r\n                scoresheets,\r\n              };\r\n\r\n              editJudgeAction(dispatch, props.match.params.id, updatedJudge)\r\n                .then(() => {\r\n                  toast.success(`Judge was updated successfully!`);\r\n                  props.history.push(\"/judges\");\r\n                })\r\n                .catch((err) => {\r\n                  setIsLoading(false);\r\n                  console.error(err);\r\n                  toast.error(\"Error updating this judge. \" + err.message);\r\n                });\r\n            } else throw new Error(\"Error\");\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            toast.error(\"Unexpected error! \" + err.message);\r\n          });\r\n      });\r\n    } else {\r\n      showDialog(true, \"add\", (res) => {\r\n        res\r\n          .then((proceed) => {\r\n            if (proceed) {\r\n              setIsLoading(true);\r\n\r\n              const newJudge = {\r\n                event_id: props.location.state.eventID,\r\n                firstName,\r\n                middleInitial,\r\n                lastName,\r\n                status: \"Incomplete\",\r\n                scoresheets: [],\r\n              };\r\n\r\n              addJudgeAction(dispatch, newJudge)\r\n                .then(() => {\r\n                  toast.success(\"New Judge was added successfully!\");\r\n                  props.history.push(\"/judges\");\r\n                })\r\n                .catch((err) => {\r\n                  setIsLoading(false);\r\n                  toast.error(\"Error adding this Judge. \" + err.message);\r\n                });\r\n            } else throw new Error(\"Error\");\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            toast.error(\"Unexpected error! \" + err.message);\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  return isApiInProgress ? (\r\n    <Spinner />\r\n  ) : (\r\n    <div className=\"judge-form container\">\r\n      <AlertDialog />\r\n      <br />\r\n      {isEdit ? <h5>Edit Judge</h5> : <h5>Create Judge</h5>}\r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput\r\n          name=\"First Name\"\r\n          label=\"First Name\"\r\n          placeholder=\"Enter First Name\"\r\n          value={firstName}\r\n          onChange={(e) => setFirstName(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Middle Initial\"\r\n          label=\"Middle Initial\"\r\n          placeholder=\"Enter Middle Initial\"\r\n          value={middleInitial}\r\n          onChange={(e) => setMiddleInitial(e.target.value)}\r\n        />\r\n        <TextInput\r\n          name=\"Last Name\"\r\n          label=\"Last Name\"\r\n          placeholder=\"Enter Last Name\"\r\n          value={lastName}\r\n          onChange={(e) => setLastName(e.target.value)}\r\n        />\r\n        <FormGroup controlId=\"submit\">\r\n          <LoaderButton\r\n            block\r\n            type=\"submit\"\r\n            isLoading={isLoading}\r\n            disabled={!validateForm()}\r\n          >\r\n            {isEdit ? \"Update\" : \"Create\"}\r\n          </LoaderButton>\r\n        </FormGroup>\r\n      </form>\r\n      <LoaderButton block onClick={handleCancel}>\r\n        Cancel\r\n      </LoaderButton>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Tab, Nav, Row, Col } from \"react-bootstrap\";\r\nimport AlertDialog from \"../../components/dialogs/Dialog\";\r\nimport { ScoresheetTbl } from \"../../components/ScoreTable\";\r\nimport { ExportCSV } from \"../../components/ExportCSV\";\r\nimport { toast } from \"react-toastify\";\r\nimport { store } from \"../../context/Store\";\r\nimport { loadChurchesAction } from \"../../context/actions/ChurchActions\";\r\nimport { loadCompetitionsAction } from \"../../context/actions/CompetitionActions\";\r\nimport Spinner from \"../../components/Spinner\";\r\n\r\nexport default function Scoresheets(props) {\r\n  const [judge, setJudge] = useState(\"\");\r\n  const [churches, setChurches] = useState([]);\r\n  const [competitions, setCompetitions] = useState([]);\r\n  const { state, dispatch } = useContext(store);\r\n  const [isApiInProgress, setIsApiInProgress] = useState(true);\r\n\r\n  useEffect(() => {\r\n    onLoad();\r\n  }, [state.competitions, state.churches]);\r\n\r\n  async function onLoad() {\r\n    await setJudge(props.location.state.judge);\r\n\r\n    try {\r\n      if (state.churches.length === 0) {\r\n        await loadChurchesAction(dispatch);\r\n      }\r\n      if (state.competitions.length === 0) {\r\n        await loadCompetitionsAction(dispatch);\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Loading failed. \" + err.message);\r\n      throw err;\r\n    }\r\n\r\n    if (props.location.state.event) {\r\n      let eventId = props.location.state.event;\r\n\r\n      if (\r\n        state.competitions.length > 0 &&\r\n        getCompetitionsById(eventId).length > 0 &&\r\n        state.churches.length > 0 &&\r\n        getChurchesById(eventId).length > 0\r\n      ) {\r\n        setCompetitions(\r\n          getCompetitionsById(eventId).sort((a, b) =>\r\n            a.name > b.name ? 1 : b.name > a.name ? -1 : 0\r\n          )\r\n        );\r\n\r\n        setChurches(\r\n          getChurchesById(eventId).sort((a, b) =>\r\n            a.churchNumber > b.churchNumber\r\n              ? 1\r\n              : b.churchNumber > a.churchNumber\r\n              ? -1\r\n              : 0\r\n          )\r\n        );\r\n      }\r\n    }\r\n\r\n    setIsApiInProgress(state.apiCallsInProgress > 0);\r\n  }\r\n\r\n  function getCompetitionsById(id) {\r\n    return state.competitions.filter(\r\n      (competition) => competition.event_id == id\r\n    );\r\n  }\r\n\r\n  function getChurchesById(id) {\r\n    return state.churches.filter((church) => church.event_id == id);\r\n  }\r\n\r\n  function tabHeading() {\r\n    return churches.map((church) => (\r\n      <Nav.Item key={church.churchNumber}>\r\n        <Nav.Link\r\n          className=\"tab-nav-link\"\r\n          eventKey={church.churchNumber}\r\n        >{`${church.acronym}`}</Nav.Link>\r\n      </Nav.Item>\r\n    ));\r\n  }\r\n\r\n  function getOverall(criterias, entries) {\r\n    let retVal = 0;\r\n\r\n    for (var i = 0; i < criterias.length; i++) {\r\n      retVal +=\r\n        (entries ? (entries[i] ? entries[i] : 0) : 0) *\r\n        (criterias[i].value / 100);\r\n    }\r\n\r\n    return retVal;\r\n  }\r\n\r\n  function round(number) {\r\n    return Math.round((number + 0.00001) * 100) / 100;\r\n  }\r\n\r\n  function getScoresheet(church) {\r\n    const scoresheet = judge.scoresheets.filter(\r\n      (s) => s.church_id === church._id\r\n    )[0];\r\n    let musical = [\r\n      {\r\n        type: \"Musical\",\r\n        title: \"\",\r\n        criterias: \"\",\r\n        pct: \"\",\r\n        score: \"\",\r\n        total: \"\",\r\n        overall: \"\",\r\n        overallTotal: \"\",\r\n      },\r\n    ];\r\n    let literary = [\r\n      {\r\n        type: \"Literary\",\r\n        title: \"\",\r\n        criterias: \"\",\r\n        pct: \"\",\r\n        score: \"\",\r\n        total: \"\",\r\n        overall: \"\",\r\n        overallTotal: \"\",\r\n      },\r\n    ];\r\n    let retVal = [];\r\n    let total = [];\r\n    let overall = [];\r\n\r\n    competitions\r\n      .filter((c) => c.type === \"musical\")\r\n      .map((competition) => {\r\n        let entry = [];\r\n\r\n        if (scoresheet) {\r\n          entry = scoresheet.musical.find(\r\n            (entry) => entry.competition_id === competition._id\r\n          );\r\n        }\r\n\r\n        musical.push({\r\n          type: \"\",\r\n          title: competition.name,\r\n          criterias: \"\",\r\n          pct: \"\",\r\n          score: \"\",\r\n          total: \"\",\r\n          overall: \"\",\r\n          overallTotal: \"\",\r\n        });\r\n        competition.criterias.map((criteria, criteriaIndex) => {\r\n          musical.push({\r\n            type: \"\",\r\n            title: \"\",\r\n            criterias: criteria.title,\r\n            pct: criteria.value,\r\n            score: (entry\r\n              ? entry.criterias\r\n                ? entry.criterias[criteriaIndex]\r\n                : 0\r\n              : 0\r\n            ).toString(),\r\n            total: \"\",\r\n            overall: \"\",\r\n            overallTotal: \"\",\r\n          });\r\n\r\n          return;\r\n        });\r\n\r\n        musical.push({\r\n          type: \"\",\r\n          title: \"\",\r\n          criterias: \"\",\r\n          pct: \"\",\r\n          score: \"\",\r\n          total: total[\r\n            total.push(\r\n              round(\r\n                getOverall(competition.criterias, entry ? entry.criterias : [])\r\n              )\r\n            ) - 1\r\n          ].toString(),\r\n          overall: \"\",\r\n          overallTotal: \"\",\r\n        });\r\n        return;\r\n      });\r\n\r\n    musical.push({\r\n      type: \"\",\r\n      title: \"\",\r\n      criterias: \"\",\r\n      pct: \"\",\r\n      score: \"\",\r\n      total: \"\",\r\n      overall: overall[\r\n        overall.push(round(total.reduce((a, b) => a + b, 0) / total.length)) - 1\r\n      ].toString(),\r\n      overallTotal: \"\",\r\n    });\r\n\r\n    total = [];\r\n\r\n    competitions\r\n      .filter((c) => c.type === \"literary\")\r\n      .map((competition) => {\r\n        let entry = [];\r\n\r\n        if (scoresheet) {\r\n          entry = scoresheet.literary.find(\r\n            (entry) => entry.competition_id === competition._id\r\n          );\r\n        }\r\n\r\n        literary.push({\r\n          type: \"\",\r\n          title: competition.name,\r\n          criterias: \"\",\r\n          pct: \"\",\r\n          score: \"\",\r\n          total: \"\",\r\n          overall: \"\",\r\n          overallTotal: \"\",\r\n        });\r\n        competition.criterias.map((criteria, criteriaIndex) => {\r\n          literary.push({\r\n            type: \"\",\r\n            title: \"\",\r\n            criterias: criteria.title,\r\n            pct: criteria.value,\r\n            score: (entry\r\n              ? entry.criterias\r\n                ? entry.criterias[criteriaIndex]\r\n                : 0\r\n              : 0\r\n            ).toString(),\r\n            total: \"\",\r\n            overall: \"\",\r\n            overallTotal: \"\",\r\n          });\r\n        });\r\n\r\n        literary.push({\r\n          type: \"\",\r\n          title: \"\",\r\n          criterias: \"\",\r\n          pct: \"\",\r\n          score: \"\",\r\n          total: total[\r\n            total.push(\r\n              round(\r\n                getOverall(competition.criterias, entry ? entry.criterias : [])\r\n              )\r\n            ) - 1\r\n          ].toString(),\r\n          overall: \"\",\r\n          overallTotal: \"\",\r\n        });\r\n      });\r\n\r\n    literary.push({\r\n      type: \"\",\r\n      title: \"\",\r\n      criterias: \"\",\r\n      pct: \"\",\r\n      score: \"\",\r\n      total: \"\",\r\n      overall: overall[\r\n        overall.push(round(total.reduce((a, b) => a + b, 0) / total.length)) - 1\r\n      ].toString(),\r\n      overallTotal: \"\",\r\n    });\r\n\r\n    retVal = retVal.concat(musical);\r\n    retVal = retVal.concat(literary);\r\n\r\n    retVal = retVal.concat({\r\n      type: \"\",\r\n      title: \"\",\r\n      criterias: \"\",\r\n      pct: \"\",\r\n      score: \"\",\r\n      total: \"\",\r\n      overall: \"\",\r\n      overallTotal: round(\r\n        overall.reduce((a, b) => a + b, 0) / overall.length\r\n      ).toString(),\r\n    });\r\n\r\n    return retVal;\r\n  }\r\n\r\n  function scoresheetsList() {\r\n    return churches.map((church) => {\r\n      let tbl = { rows: [], cols: [] };\r\n\r\n      tbl.cols.push({\r\n        type: \"Type\",\r\n        title: \"Title\",\r\n        criterias: \"Criterias\",\r\n        pct: \"Pct. (%)\",\r\n        score: \"Score\",\r\n        total: \"Total\",\r\n        overall: \"Overall\",\r\n        overallTotal: \"Overall Overall\",\r\n      });\r\n      tbl.rows = getScoresheet(church);\r\n\r\n      return (\r\n        <Tab.Pane key={church.churchNumber} eventKey={church.churchNumber}>\r\n          <div>\r\n            <div>\r\n              <h4>{church.name}</h4>\r\n            </div>\r\n            <div className=\"btnExport\">\r\n              <ExportCSV\r\n                csvData={tbl.rows}\r\n                sheetName={judge.firstName[0] + \"_\" + judge.lastName}\r\n                fileName={`${church.name}_Scoresheet.xlsx`}\r\n              />\r\n            </div>\r\n            <div className=\"table-horiz-scroll\">\r\n              <ScoresheetTbl rows={tbl.rows} cols={tbl.cols} />\r\n            </div>\r\n          </div>\r\n        </Tab.Pane>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"scoresheets container\">\r\n      <AlertDialog />\r\n      {isApiInProgress ? (\r\n        <Spinner />\r\n      ) : (\r\n        <div className=\"lander\">\r\n          <br />\r\n          <Tab.Container\r\n            id=\"left-tabs\"\r\n            defaultActiveKey=\"1\"\r\n            className=\"tab-container\"\r\n          >\r\n            <Row>\r\n              <Col md={{ span: 10, order: 2 }}>\r\n                <Tab.Content>{scoresheetsList()}</Tab.Content>\r\n              </Col>\r\n              <Col md={{ span: 2, order: 1 }}>\r\n                <Nav variant=\"pills\" className=\"flex-column\">\r\n                  {tabHeading()}\r\n                </Nav>\r\n                <br />\r\n              </Col>\r\n            </Row>\r\n          </Tab.Container>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./NotFound.css\";\r\n\r\nexport default function NotFound() {\r\n    return (\r\n        <div className=\"NotFound\">\r\n            <h3>Sorry, page not found!</h3>\r\n        </div>\r\n    );\r\n}","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Auth from \"./Auth\";\r\nimport { checkTokenApi } from \"./api/Api\";\r\n\r\nexport default function withAuth(ComponentToProtect) {\r\n  return class extends Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        browser: \"\",\r\n        ipAddress: \"\",\r\n        isMounted: false,\r\n        loading: true,\r\n        redirect: false,\r\n        status: 0,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      if (!Auth.isUserAuthenticated())\r\n        this.setState({ loading: false, redirect: true, status: 401 });\r\n\r\n      axios.defaults.withCredentials = true;\r\n      //axios\r\n      //  .get(\"http://localhost:5000/api/checkToken\", {\r\n      //    method: \"GET\",\r\n      //  })\r\n      this.setState({ isMounted: true });\r\n      checkTokenApi()\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            const { detect } = require(\"detect-browser\");\r\n            const browser = detect();\r\n\r\n            // handle the case where we don't detect the browser\r\n            if (browser) {\r\n              this.state.browser = browser.name;\r\n            }\r\n            //this async method will check if the token has the same ip address\r\n            //and browser with the current ip address and browser that is being\r\n            //used by the user\r\n            /*Uncomment this before deploying to Production\r\n            (async() => {\r\n              const publicIp = require('public-ip');\r\n              this.state.ipAddress = await publicIp.v4();\r\n              \r\n              if ((this.props.decodedUser.ipAddress === this.state.ipAddress) && (this.props.decodedUser.browser === this.state.browser)) {\r\n                this.setState({ loading: false, status: 200 });\r\n              } else {\r\n                console.log(this.state);\r\n                this.setState({ loading: false, redirect: true, status: 401 });\r\n              }\r\n            })().catch((err) => { throw err });\r\n            */\r\n            this.setState({ loading: false, status: 200 });\r\n          } else {\r\n            const error = new Error(res.error);\r\n            throw error;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.setState({\r\n            loading: false,\r\n            redirect: true,\r\n            status: err.response.status,\r\n          });\r\n        });\r\n    }\r\n\r\n    render() {\r\n      const { loading, redirect, status, isMounted } = this.state;\r\n      if (loading) {\r\n        return null;\r\n      }\r\n      if (redirect && isMounted) {\r\n        Auth.deauthenticateUser();\r\n        this.props.userHasAuthenticated(false);\r\n        return <Redirect to=\"/login\" />;\r\n      }\r\n      //console.log(this.props.decodedUser);\r\n      return <ComponentToProtect {...this.props} />;\r\n    }\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch, HashRouter } from \"react-router-dom\";\r\nimport AppliedRoute from \"./components/AppliedRoute\";\r\nimport Home from \"./containers/Home\";\r\nimport Login from \"./containers/Login\";\r\nimport Scoresheet from \"./containers/judges/Scoresheet\";\r\nimport Events from \"./containers/events/Events\";\r\nimport EditEvent from \"./containers/events/EditEvent\";\r\nimport CreateEvent from \"./containers/events/CreateEvent\";\r\nimport Competitions from \"./containers/competitions/Competitions\";\r\nimport EditCompetition from \"./containers/competitions/EditCompetition\";\r\nimport CreateCompetition from \"./containers/competitions/CreateCompetition\";\r\nimport Criterias from \"./containers/criterias/Criterias\";\r\nimport CreateCriteria from \"./containers/criterias/CreateCriteria\";\r\nimport EditCriteria from \"./containers/criterias/EditCriteria\";\r\nimport Churches from \"./containers/churches/Churches\";\r\nimport ChurchForm from \"./containers/churches/ChurchForm\";\r\nimport Participants from \"./containers/participants/Participants\";\r\nimport ParticipantForm from \"./containers/participants/ParticipantForm\";\r\nimport Judges from \"./containers/judges/Judges\";\r\nimport JudgeForm from \"./containers/judges/JudgeForm\";\r\nimport Scoresheets from \"./containers/scoresheets/Scoresheets\";\r\nimport NotFound from \"./containers/NotFound\";\r\nimport withAuth from \"./withAuth\";\r\nimport withAuthJudge from \"./withAuthJudge\";\r\n\r\nexport default function Routes({ appProps }) {\r\n  return (\r\n    <HashRouter>\r\n      <AppliedRoute path=\"/\" exact component={Home} appProps={appProps} />\r\n      <AppliedRoute path=\"/login\" exact component={Login} appProps={appProps} />\r\n      <AppliedRoute\r\n        path=\"/scoresheet\"\r\n        exact\r\n        component={withAuthJudge(Scoresheet)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/events\"\r\n        exact\r\n        component={withAuth(Events)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/events/add\"\r\n        exact\r\n        component={withAuth(CreateEvent)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/events/:id\"\r\n        exact\r\n        component={withAuth(EditEvent)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/competitions\"\r\n        exact\r\n        component={withAuth(Competitions)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/competitions/add\"\r\n        exact\r\n        component={withAuth(CreateCompetition)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/competitions/:id\"\r\n        exact\r\n        component={withAuth(EditCompetition)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/criterias\"\r\n        exact\r\n        component={withAuth(Criterias)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/criterias/add\"\r\n        exact\r\n        component={withAuth(CreateCriteria)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/criterias/:id\"\r\n        exact\r\n        component={withAuth(EditCriteria)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/churches\"\r\n        exact\r\n        component={withAuth(Churches)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/churches/add\"\r\n        exact\r\n        component={withAuth(ChurchForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/churches/:id\"\r\n        exact\r\n        component={withAuth(ChurchForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/participants\"\r\n        exact\r\n        component={withAuth(Participants)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/participants/add\"\r\n        exact\r\n        component={withAuth(ParticipantForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/participants/:id\"\r\n        exact\r\n        component={withAuth(ParticipantForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/judges\"\r\n        exact\r\n        component={withAuth(Judges)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/judges/add\"\r\n        exact\r\n        component={withAuth(JudgeForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/judges/:id\"\r\n        exact\r\n        component={withAuth(JudgeForm)}\r\n        appProps={appProps}\r\n      />\r\n      <AppliedRoute\r\n        path=\"/scoresheets\"\r\n        exact\r\n        component={withAuth(Scoresheets)}\r\n        appProps={appProps}\r\n      />\r\n      <Route component={NotFound} />\r\n    </HashRouter>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Auth from \"./Auth\";\r\nimport { checkTokenApi } from \"./api/Api\";\r\n\r\nexport default function withAuth(ComponentToProtect) {\r\n  return class extends Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        browser: \"\",\r\n        ipAddress: \"\",\r\n        loading: true,\r\n        redirect: false,\r\n        status: 0,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      if (!Auth.isJudgeAuthenticated())\r\n        this.setState({ loading: false, redirect: true, status: 401 });\r\n\r\n      axios.defaults.withCredentials = true;\r\n      //axios\r\n      //  .get(\"http://localhost:5000/api/checkToken\", {\r\n      //    method: \"GET\",\r\n      //  })\r\n      checkTokenApi()\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            const { detect } = require(\"detect-browser\");\r\n            const browser = detect();\r\n\r\n            // handle the case where we don't detect the browser\r\n            if (browser) {\r\n              this.state.browser = browser.name;\r\n            }\r\n            //this async method will check if the token has the same ip address\r\n            //and browser with the current ip address and browser that is being\r\n            //used by the judge\r\n            /*Uncomment this before deploying to Production\r\n            (async() => {\r\n              const publicIp = require('public-ip');\r\n              this.state.ipAddress = await publicIp.v4();\r\n              \r\n              if ((this.props.decodedJudge.ipAddress === this.state.ipAddress) && (this.props.decodedJudge.browser === this.state.browser)) {\r\n                this.setState({ loading: false, status: 200 });\r\n              } else {\r\n                console.log(this.state);\r\n                this.setState({ loading: false, redirect: true, status: 401 });\r\n              }\r\n            })().catch((err) => { throw err });\r\n            */\r\n            this.setState({ loading: false, status: 200 });\r\n          } else {\r\n            const error = new Error(res.error);\r\n            throw error;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          this.setState({\r\n            loading: false,\r\n            redirect: true,\r\n            status: err.response.status,\r\n          });\r\n        });\r\n    }\r\n\r\n    render() {\r\n      const { loading, redirect, status } = this.state;\r\n      if (loading) {\r\n        return null;\r\n      }\r\n      if (redirect) {\r\n        Auth.deauthenticateUser();\r\n        //this.props.judgeHasAuthenticated(false);\r\n        return <Redirect to=\"/login\" />;\r\n      }\r\n      //console.log(this.props.decodedUser);\r\n      return <ComponentToProtect {...this.props} />;\r\n    }\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./DefaultStyles.css\";\nimport Routes from \"./Routes\";\nimport Auth from \"./Auth\";\nimport { Nav, Navbar } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Notifications from \"./components/notifications/Notification\";\n\nfunction App(props) {\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [decodedUser, setDecodedUser] = useState({});\n  const [decodedJudge, setDecodedJudge] = useState({});\n  const [isAuthenticatedJudge, judgeHasAuthenticated] = useState(false);\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  async function onLoad() {\n    try {\n      if (await Auth.isUserAuthenticated()) {\n        userHasAuthenticated(true);\n      }\n      if (await Auth.isJudgeAuthenticated()) {\n        judgeHasAuthenticated(true);\n      }\n    } catch (e) {\n      if (e !== \"No current user\") {\n        alert(e);\n      }\n    }\n    setIsAuthenticating(false);\n  }\n\n  async function handleLogout() {\n    await Auth.deauthenticateUser();\n    userHasAuthenticated(false);\n    judgeHasAuthenticated(false);\n    props.history.push(\"/login\"); //will redirect the user to login page after logging out\n  }\n\n  return (\n    <div className=\"App container\">\n      <Notifications />\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n        <NavLink className=\"navbar-brand\" to=\"/\">\n          Adjudicator\n        </NavLink>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\n        {isAuthenticated ? (\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <NavLink className=\"Nav_Link\" to=\"/events\">\n                Events\n              </NavLink>\n              <NavLink className=\"Nav_Link\" to=\"/competitions\">\n                Competitions\n              </NavLink>\n              <NavLink className=\"Nav_Link\" to=\"/judges\">\n                Judges\n              </NavLink>\n              <NavLink className=\"Nav_Link\" to=\"/churches\">\n                Churches\n              </NavLink>\n            </Nav>\n            <Nav className=\"ml-auto\">\n              <NavLink className=\"Nav_Link Log\" to=\"\" onClick={handleLogout}>\n                Logout\n              </NavLink>\n            </Nav>\n          </Navbar.Collapse>\n        ) : isAuthenticatedJudge ? (\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">\n              <NavLink className=\"Nav_Link\" to=\"/scoresheet\">\n                Scoresheet\n              </NavLink>\n            </Nav>\n            <Nav className=\"ml-auto\">\n              <NavLink className=\"Nav_Link Log\" to=\"\" onClick={handleLogout}>\n                Logout\n              </NavLink>\n            </Nav>\n          </Navbar.Collapse>\n        ) : (\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ml-auto\">\n              <NavLink className=\"Nav_Link Log\" to=\"/login\">\n                Login\n              </NavLink>\n            </Nav>\n          </Navbar.Collapse>\n        )}\n      </Navbar>\n\n      <Routes\n        appProps={{\n          isAuthenticated,\n          userHasAuthenticated,\n          isAuthenticatedJudge,\n          judgeHasAuthenticated,\n          decodedUser,\n          setDecodedUser,\n          decodedJudge,\n          setDecodedJudge,\n        }}\n      />\n    </div>\n  );\n}\n\n//export default withRouter(App);\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { StateProvider } from \"./context/Store\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nReactDOM.render(\n  <Router>\n    <StateProvider>\n      <App />\n    </StateProvider>\n    <ToastContainer autoClose={3000} hideProgressBar />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}